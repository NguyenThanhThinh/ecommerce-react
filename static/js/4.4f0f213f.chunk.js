(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[4],{1082:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return un}));var c=n(1),a=n(85),i=n(41),s=n(133),r=n(0);function o(){var e=Object(i.e)((function(e){return{isLoading:e.customers.listLoading}}),i.c).isLoading;return Object(c.useEffect)((function(){}),[e]),Object(r.jsx)(s.h,{isLoading:e,text:"Loading ..."})}var l=n(1083),d=n(110),u=n.n(d),j="api/customers";var m=n(404),b=m.b.actions,h=function(e){return function(t){return t(b.startCall({callType:m.a.list})),function(e){return u.a.post("".concat(j,"/find"),{queryParams:e})}(e).then((function(e){var n=e.data,c=n.totalCount,a=n.entities;t(b.customersFetched({totalCount:c,entities:a}))})).catch((function(e){e.clientMessage="Can't find customers",t(b.catchError({error:e,callType:m.a.list}))}))}},p=function(e){return function(t){return e?(t(b.startCall({callType:m.a.action})),(n=e,u.a.get("".concat(j,"/").concat(n))).then((function(e){var n=e.data;t(b.customerFetched({customerForEdit:n}))})).catch((function(e){e.clientMessage="Can't find customer",t(b.catchError({error:e,callType:m.a.action}))}))):t(b.customerFetched({customerForEdit:void 0}));var n}},f=function(e){return function(t){return t(b.startCall({callType:m.a.action})),(n=e,u.a.delete("".concat(j,"/").concat(n))).then((function(n){t(b.customerDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete customer",t(b.catchError({error:e,callType:m.a.action}))}));var n}},O=function(e){return function(t){return t(b.startCall({callType:m.a.action})),(n=e,u.a.post(j,{customer:n})).then((function(e){var n=e.data.customer;t(b.customerCreated({customer:n}))})).catch((function(e){e.clientMessage="Can't create customer",t(b.catchError({error:e,callType:m.a.action}))}));var n}},x=function(e){return function(t){return t(b.startCall({callType:m.a.action})),function(e){return u.a.put("".concat(j,"/").concat(e.id),{customer:e})}(e).then((function(){t(b.customerUpdated({customer:e}))})).catch((function(e){e.clientMessage="Can't update customer",t(b.catchError({error:e,callType:m.a.action}))}))}},g=function(e,t){return function(n){return n(b.startCall({callType:m.a.action})),function(e,t){return u.a.post("".concat(j,"/updateStatusForCustomers"),{ids:e,status:t})}(e,t).then((function(){n(b.customersStatusUpdated({ids:e,status:t}))})).catch((function(e){e.clientMessage="Can't update customers status",n(b.catchError({error:e,callType:m.a.action}))}))}},v=function(e){return function(t){return t(b.startCall({callType:m.a.action})),function(e){return u.a.post("".concat(j,"/deleteCustomers"),{ids:e})}(e).then((function(){t(b.customersDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete customers",t(b.catchError({error:e,callType:m.a.action}))}))}},y=n(18);function C(e){var t=e.id,n=Object(i.e)((function(e){return{customerForEdit:e.customers.customerForEdit,actionsLoading:e.customers.actionsLoading}}),i.c),a=n.customerForEdit,o=n.actionsLoading,d=Object(c.useState)(""),u=Object(y.a)(d,2),j=u[0],m=u[1];return Object(c.useEffect)((function(){var e=t?"":"New Customer";a&&t&&(e="Edit customer '".concat(a.firstName," ").concat(a.lastName,"'")),m(e)}),[a,o]),Object(r.jsxs)(r.Fragment,{children:[o&&Object(r.jsx)(s.i,{}),Object(r.jsx)(l.a.Header,{closeButton:!0,children:Object(r.jsx)(l.a.Title,{id:"example-modal-sizes-title-lg",children:j})})]})}var D=n(67),N=n(50),P=N.d().shape({firstName:N.f().min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required("Firstname is required"),lastName:N.f().min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required("Lastname is required"),email:N.f().email("Invalid email").required("Email is required"),userName:N.f().required("Username is required"),dateOfBbirth:N.b().nullable(!1).required("Date of Birth is required"),ipAddress:N.f().required("IP Address is required")});function k(e){var t=e.saveCustomer,n=e.customer,c=e.actionsLoading,a=e.onHide;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(D.c,{enableReinitialize:!0,initialValues:n,validationSchema:P,onSubmit:function(e){t(e)},children:function(e){var t=e.handleSubmit;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(l.a.Body,{className:"overlay overlay-block cursor-default",children:[c&&Object(r.jsx)("div",{className:"overlay-layer bg-transparent",children:Object(r.jsx)("div",{className:"spinner spinner-lg spinner-success"})}),Object(r.jsxs)(D.b,{className:"form form-label-right",children:[Object(r.jsxs)("div",{className:"form-group row",children:[Object(r.jsx)("div",{className:"col-lg-4",children:Object(r.jsx)(D.a,{name:"firstName",component:s.g,placeholder:"First Name",label:"First Name"})}),Object(r.jsx)("div",{className:"col-lg-4",children:Object(r.jsx)(D.a,{name:"lastName",component:s.g,placeholder:"Last Name",label:"Last Name"})}),Object(r.jsx)("div",{className:"col-lg-4",children:Object(r.jsx)(D.a,{name:"userName",component:s.g,placeholder:"Login",label:"Login"})})]}),Object(r.jsxs)("div",{className:"form-group row",children:[Object(r.jsx)("div",{className:"col-lg-4",children:Object(r.jsx)(D.a,{type:"email",name:"email",component:s.g,placeholder:"Email",label:"Email"})}),Object(r.jsx)("div",{className:"col-lg-4",children:Object(r.jsx)(s.f,{name:"dateOfBbirth",label:"Date of Birth"})}),Object(r.jsx)("div",{className:"col-lg-4",children:Object(r.jsx)(D.a,{name:"ipAddress",component:s.g,placeholder:"IP Address",label:"IP Address",customFeedbackLabel:"We'll never share customer IP Address with anyone else"})})]}),Object(r.jsxs)("div",{className:"form-group row",children:[Object(r.jsx)("div",{className:"col-lg-4",children:Object(r.jsxs)(s.l,{name:"Gender",label:"Gender",children:[Object(r.jsx)("option",{value:"Female",children:"Female"}),Object(r.jsx)("option",{value:"Male",children:"Male"})]})}),Object(r.jsx)("div",{className:"col-lg-4",children:Object(r.jsxs)(s.l,{name:"type",label:"Type",children:[Object(r.jsx)("option",{value:"0",children:"Business"}),Object(r.jsx)("option",{value:"1",children:"Individual"})]})})]})]})]}),Object(r.jsxs)(l.a.Footer,{children:[Object(r.jsx)("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate",children:"Cancel"}),Object(r.jsx)(r.Fragment,{children:" "}),Object(r.jsx)("button",{type:"submit",onClick:function(){return t()},className:"btn btn-primary btn-elevate",children:"Save"})]})]})}})})}var F=n(43),S=["danger","success","info",""],E=["Suspended","Active","Pending",""],w=["success","primary",""],I=["Business","Individual",""],q=[{dataField:"id",order:"asc"}],T=[{text:"3",value:3},{text:"5",value:5},{text:"10",value:10}],L={filter:{lastName:"",firstName:"",email:"",ipAddress:""},sortOrder:"asc",sortField:"id",pageNumber:1,pageSize:10},R=Object(c.createContext)();function M(){return Object(c.useContext)(R)}R.Consumer;function H(e){var t=e.customersUIEvents,n=e.children,a=Object(c.useState)(L),i=Object(y.a)(a,2),s=i[0],o=i[1],l=Object(c.useState)([]),d=Object(y.a)(l,2),u=d[0],j=d[1],m=Object(c.useCallback)((function(e){o((function(t){return Object(F.isFunction)(e)&&(e=e(t)),Object(F.isEqual)(t,e)?t:e}))}),[]),b={queryParams:s,setQueryParamsBase:o,ids:u,setIds:j,setQueryParams:m,initCustomer:{id:void 0,firstName:"",lastName:"",email:"",userName:"",gender:"Female",status:0,dateOfBbirth:"",ipAddress:"",type:1},newCustomerButtonClick:t.newCustomerButtonClick,openEditCustomerDialog:t.openEditCustomerDialog,openDeleteCustomerDialog:t.openDeleteCustomerDialog,openDeleteCustomersDialog:t.openDeleteCustomersDialog,openFetchCustomersDialog:t.openFetchCustomersDialog,openUpdateCustomersStatusDialog:t.openUpdateCustomersStatusDialog};return Object(r.jsx)(R.Provider,{value:b,children:n})}function B(e){var t=e.id,n=e.show,a=e.onHide,s=M(),o=Object(c.useMemo)((function(){return{initCustomer:s.initCustomer}}),[s]),d=Object(i.d)(),u=Object(i.e)((function(e){return{actionsLoading:e.customers.actionsLoading,customerForEdit:e.customers.customerForEdit}}),i.c),j=u.actionsLoading,m=u.customerForEdit;Object(c.useEffect)((function(){d(p(t))}),[t,d]);return Object(r.jsxs)(l.a,{size:"lg",show:n,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(r.jsx)(C,{id:t}),Object(r.jsx)(k,{saveCustomer:function(e){t?d(x(e)).then((function(){return a()})):d(O(e)).then((function(){return a()}))},actionsLoading:j,customer:m||o.initCustomer,onHide:a})]})}function z(e){var t=e.id,n=e.show,a=e.onHide,o=M(),d=Object(c.useMemo)((function(){return{setIds:o.setIds,queryParams:o.queryParams}}),[o]),u=Object(i.d)(),j=Object(i.e)((function(e){return{isLoading:e.customers.actionsLoading}}),i.c).isLoading;Object(c.useEffect)((function(){t||a()}),[t]),Object(c.useEffect)((function(){}),[j,u]);return Object(r.jsxs)(l.a,{show:n,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg",children:[j&&Object(r.jsx)(s.i,{}),Object(r.jsx)(l.a.Header,{closeButton:!0,children:Object(r.jsx)(l.a.Title,{id:"example-modal-sizes-title-lg",children:"Customer Delete"})}),Object(r.jsxs)(l.a.Body,{children:[!j&&Object(r.jsx)("span",{children:"Are you sure to permanently delete this customer?"}),j&&Object(r.jsx)("span",{children:"Customer is deleting..."})]}),Object(r.jsx)(l.a.Footer,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate",children:"Cancel"}),Object(r.jsx)(r.Fragment,{children:" "}),Object(r.jsx)("button",{type:"button",onClick:function(){u(f(t)).then((function(){u(h(d.queryParams)),d.setIds([]),a()}))},className:"btn btn-primary btn-elevate",children:"Delete"})]})})]})}function U(e){var t=e.show,n=e.onHide,a=M(),o=Object(c.useMemo)((function(){return{ids:a.ids,setIds:a.setIds,queryParams:a.queryParams}}),[a]),d=Object(i.d)(),u=Object(i.e)((function(e){return{isLoading:e.customers.actionsLoading}}),i.c).isLoading;Object(c.useEffect)((function(){o.ids&&0!==o.ids.length||n()}),[o.ids]),Object(c.useEffect)((function(){}),[u,d]);return Object(r.jsxs)(l.a,{show:t,onHide:n,"aria-labelledby":"example-modal-sizes-title-lg",children:[u&&Object(r.jsx)(s.i,{}),Object(r.jsx)(l.a.Header,{closeButton:!0,children:Object(r.jsx)(l.a.Title,{id:"example-modal-sizes-title-lg",children:"Customers Delete"})}),Object(r.jsxs)(l.a.Body,{children:[!u&&Object(r.jsx)("span",{children:"Are you sure to permanently delete selected customers?"}),u&&Object(r.jsx)("span",{children:"Customer are deleting..."})]}),Object(r.jsx)(l.a.Footer,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{type:"button",onClick:n,className:"btn btn-light btn-elevate",children:"Cancel"}),Object(r.jsx)(r.Fragment,{children:" "}),Object(r.jsx)("button",{type:"button",onClick:function(){d(v(o.ids)).then((function(){d(h(o.queryParams)).then((function(){o.setIds([]),n()}))}))},className:"btn btn-primary btn-elevate",children:"Delete"})]})})]})}var A=function(e,t){var n=[];return t.forEach((function(t){var c=e.find((function(e){return e.id===t}));c&&n.push(c)})),n};function Q(e){var t=e.show,n=e.onHide,a=M(),s=Object(c.useMemo)((function(){return{ids:a.ids}}),[a]),o=Object(i.e)((function(e){return{customers:A(e.customers.entities,s.ids)}}),i.c).customers;return Object(c.useEffect)((function(){s.ids&&0!==s.ids.length||n()}),[s.ids]),Object(r.jsxs)(l.a,{show:t,onHide:n,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(r.jsx)(l.a.Header,{closeButton:!0,children:Object(r.jsx)(l.a.Title,{id:"example-modal-sizes-title-lg",children:"Fetch selected elements"})}),Object(r.jsx)(l.a.Body,{children:Object(r.jsxs)("table",{className:"table table table-head-custom table-vertical-center overflow-hidden",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"ID"}),Object(r.jsx)("th",{children:"STATUS"}),Object(r.jsx)("th",{children:"CUSTOMER"})]})}),Object(r.jsx)("tbody",{children:o.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.id}),Object(r.jsx)("td",{children:Object(r.jsxs)("span",{className:"label label-lg label-light-".concat(S[e.status]," label-inline"),children:[" ",E[e.status]]})}),Object(r.jsx)("td",{children:Object(r.jsxs)("span",{className:"ml-3",children:[e.lastName,", ",e.firstName]})})]},"id".concat(e.id))}))})]})}),Object(r.jsx)(l.a.Footer,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{type:"button",onClick:n,className:"btn btn-light btn-elevate",children:"Cancel"}),Object(r.jsx)(r.Fragment,{children:" "}),Object(r.jsx)("button",{type:"button",onClick:n,className:"btn btn-primary btn-elevate",children:"Ok"})]})})]})}var V=function(e,t){var n=[];return t.forEach((function(t){var c=e.find((function(e){return e.id===t}));c&&n.push(c)})),n};function G(e){var t=e.show,n=e.onHide,a=M(),s=Object(c.useMemo)((function(){return{ids:a.ids,setIds:a.setIds,queryParams:a.queryParams}}),[a]),o=Object(i.e)((function(e){return{customers:V(e.customers.entities,s.ids),isLoading:e.customers.actionsLoading}}),i.c),d=o.customers,u=o.isLoading;Object(c.useEffect)((function(){s.ids&&0!==s.ids.length||n()}),[s.ids]);var j=Object(c.useState)(0),m=Object(y.a)(j,2),b=m[0],p=m[1],f=Object(i.d)();return Object(r.jsxs)(l.a,{show:t,onHide:n,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(r.jsx)(l.a.Header,{closeButton:!0,children:Object(r.jsx)(l.a.Title,{id:"example-modal-sizes-title-lg",children:"Status has been updated for selected customers"})}),Object(r.jsxs)(l.a.Body,{className:"overlay overlay-block cursor-default",children:[u&&Object(r.jsx)("div",{className:"overlay-layer",children:Object(r.jsx)("div",{className:"spinner spinner-lg spinner-primary"})}),Object(r.jsxs)("table",{className:"table table table-head-custom table-vertical-center overflow-hidden",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"ID"}),Object(r.jsx)("th",{children:"STATUS"}),Object(r.jsx)("th",{children:"CUSTOMER"})]})}),Object(r.jsx)("tbody",{children:d.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.id}),Object(r.jsx)("td",{children:Object(r.jsxs)("span",{className:"label label-lg label-light-".concat(S[e.status]," label-inline"),children:[" ",E[e.status]]})}),Object(r.jsx)("td",{children:Object(r.jsxs)("span",{className:"ml-3",children:[e.lastName,", ",e.firstName]})})]},"id".concat(e.id))}))})]})]}),Object(r.jsxs)(l.a.Footer,{className:"form",children:[Object(r.jsx)("div",{className:"form-group",children:Object(r.jsxs)("select",{className:"form-control",value:b,onChange:function(e){return p(+e.target.value)},children:[Object(r.jsx)("option",{value:"0",children:"Suspended"}),Object(r.jsx)("option",{value:"1",children:"Active"}),Object(r.jsx)("option",{value:"2",children:"Pending"})]})}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("button",{type:"button",onClick:n,className:"btn btn-light btn-elevate mr-3",children:"Cancel"}),Object(r.jsx)("button",{type:"button",onClick:function(){f(g(s.ids,b)).then((function(){f(h(s.queryParams)).then((function(){s.setIds([]),n()}))}))},className:"btn btn-primary btn-elevate",children:"Update Status"})]})]})]})}var W=n(12);function Y(e){e.listLoading;var t=M(),n=Object(c.useMemo)((function(){return{queryParams:t.queryParams,setQueryParams:t.setQueryParams}}),[t]),a=function(e){var t=function(e,t){var n=t.status,c=t.type,a=t.searchText,i=Object(W.a)({},e),s={};return s.status=""!==n?+n:void 0,s.type=""!==c?+c:void 0,s.lastName=a,a&&(s.firstName=a,s.email=a,s.ipAddress=a),i.filter=s,i}(n.queryParams,e);Object(F.isEqual)(t,n.queryParams)||(t.pageNumber=1,n.setQueryParams(t))};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(D.c,{initialValues:{status:"",type:"",searchText:""},onSubmit:function(e){a(e)},children:function(e){var t=e.values,n=e.handleSubmit,c=e.handleBlur,a=(e.handleChange,e.setFieldValue);return Object(r.jsx)("form",{onSubmit:n,className:"form form-label-right",children:Object(r.jsxs)("div",{className:"form-group row",children:[Object(r.jsxs)("div",{className:"col-lg-2",children:[Object(r.jsxs)("select",{className:"form-control",name:"status",placeholder:"Filter by Status",onChange:function(e){a("status",e.target.value),n()},onBlur:c,value:t.status,children:[Object(r.jsx)("option",{value:"",children:"All"}),Object(r.jsx)("option",{value:"0",children:"Susspended"}),Object(r.jsx)("option",{value:"1",children:"Active"}),Object(r.jsx)("option",{value:"2",children:"Pending"})]}),Object(r.jsxs)("small",{className:"form-text text-muted",children:[Object(r.jsx)("b",{children:"Filter"})," by Status"]})]}),Object(r.jsxs)("div",{className:"col-lg-2",children:[Object(r.jsxs)("select",{className:"form-control",placeholder:"Filter by Type",name:"type",onBlur:c,onChange:function(e){a("type",e.target.value),n()},value:t.type,children:[Object(r.jsx)("option",{value:"",children:"All"}),Object(r.jsx)("option",{value:"0",children:"Business"}),Object(r.jsx)("option",{value:"1",children:"Individual"})]}),Object(r.jsxs)("small",{className:"form-text text-muted",children:[Object(r.jsx)("b",{children:"Filter"})," by Type"]})]}),Object(r.jsxs)("div",{className:"col-lg-2",children:[Object(r.jsx)("input",{type:"text",className:"form-control",name:"searchText",placeholder:"Search",onBlur:c,value:t.searchText,onChange:function(e){a("searchText",e.target.value),n()}}),Object(r.jsxs)("small",{className:"form-text text-muted",children:[Object(r.jsx)("b",{children:"Search"})," in all fields"]})]})]})})}})})}var $=n(1033),J=n.n($),K=n(328),X=n.n(K),Z=n(5);function _(e,t){return Object(r.jsx)("span",{className:"label label-lg label-light-".concat(S[t.status]," label-inline"),children:E[t.status]})}function ee(e,t){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"label label-dot label-".concat(w[t.type]," mr-2")}),"\xa0",Object(r.jsx)("span",{className:"font-bold font-".concat(w[t.type]),children:I[t.type]})]})}var te=n(14),ne=n.n(te);function ce(e,t,n,c){var a=c.openEditCustomerDialog,i=c.openDeleteCustomerDialog;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("a",{title:"Edit customer",className:"btn btn-icon btn-light btn-hover-primary btn-sm mx-3",onClick:function(){return a(t.id)},children:Object(r.jsx)("span",{className:"svg-icon svg-icon-md svg-icon-primary",children:Object(r.jsx)(ne.a,{src:Object(Z.j)("/media/svg/icons/Communication/Write.svg")})})}),Object(r.jsx)(r.Fragment,{children:" "}),Object(r.jsx)("a",{title:"Delete customer",className:"btn btn-icon btn-light btn-hover-danger btn-sm",onClick:function(){return i(t.id)},children:Object(r.jsx)("span",{className:"svg-icon svg-icon-md svg-icon-danger",children:Object(r.jsx)(ne.a,{src:Object(Z.j)("/media/svg/icons/General/Trash.svg")})})})]})}function ae(){var e=M(),t=Object(c.useMemo)((function(){return{ids:e.ids,setIds:e.setIds,queryParams:e.queryParams,setQueryParams:e.setQueryParams,openEditCustomerDialog:e.openEditCustomerDialog,openDeleteCustomerDialog:e.openDeleteCustomerDialog}}),[e]),n=Object(i.e)((function(e){return{currentState:e.customers}}),i.c).currentState,a=n.totalCount,o=n.entities,l=n.listLoading,d=Object(i.d)();Object(c.useEffect)((function(){t.setIds([]),d(h(t.queryParams))}),[t.queryParams,d]);var u=[{dataField:"id",text:"ID",sort:!0,sortCaret:Z.i,headerSortingClasses:Z.h},{dataField:"firstName",text:"Firstname",sort:!0,sortCaret:Z.i,headerSortingClasses:Z.h},{dataField:"lastName",text:"Lastname",sort:!0,sortCaret:Z.i,headerSortingClasses:Z.h},{dataField:"email",text:"Email",sort:!0,sortCaret:Z.i,headerSortingClasses:Z.h},{dataField:"gender",text:"Gender",sort:!1,sortCaret:Z.i},{dataField:"status",text:"Status",sort:!0,sortCaret:Z.i,formatter:_,headerSortingClasses:Z.h},{dataField:"type",text:"Type",sort:!0,sortCaret:Z.i,formatter:ee},{dataField:"action",text:"Actions",formatter:ce,formatExtraData:{openEditCustomerDialog:t.openEditCustomerDialog,openDeleteCustomerDialog:t.openDeleteCustomerDialog},classes:"text-right pr-0",headerClasses:"text-right pr-3",style:{minWidth:"100px"}}],j={custom:!0,totalSize:a,sizePerPageList:T,sizePerPage:t.queryParams.pageSize,page:t.queryParams.pageNumber};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(K.PaginationProvider,{pagination:X()(j),children:function(e){var n=e.paginationProps,c=e.paginationTableProps;return Object(r.jsx)(s.k,{isLoading:l,paginationProps:n,children:Object(r.jsxs)(J.a,Object(W.a)(Object(W.a)({wrapperClasses:"table-responsive",bordered:!1,classes:"table table-head-custom table-vertical-center overflow-hidden",bootstrap4:!0,remote:!0,keyField:"id",data:null===o?[]:o,columns:u,defaultSorted:q,onTableChange:Object(Z.d)(t.setQueryParams),selectRow:Object(Z.g)({entities:o,ids:t.ids,setIds:t.setIds})},c),{},{children:[Object(r.jsx)(Z.b,{entities:o}),Object(r.jsx)(Z.a,{entities:o})]}))})}})})}function ie(){var e=M(),t=Object(c.useMemo)((function(){return{ids:e.ids,setIds:e.setIds,openDeleteCustomersDialog:e.openDeleteCustomersDialog,openFetchCustomersDialog:e.openFetchCustomersDialog,openUpdateCustomersStatusDialog:e.openUpdateCustomersStatusDialog}}),[e]);return Object(r.jsx)("div",{className:"form",children:Object(r.jsx)("div",{className:"row align-items-center form-group-actions margin-top-20 margin-bottom-20",children:Object(r.jsx)("div",{className:"col-xl-12",children:Object(r.jsxs)("div",{className:"form-group form-group-inline",children:[Object(r.jsx)("div",{className:"form-label form-label-no-wrap",children:Object(r.jsx)("label",{className:"font-bold font-danger",children:Object(r.jsxs)("span",{children:["Selected records count: ",Object(r.jsx)("b",{children:t.ids.length})]})})}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("button",{type:"button",className:"btn btn-danger font-weight-bolder font-size-sm",onClick:t.openDeleteCustomersDialog,children:[Object(r.jsx)("i",{className:"fa fa-trash"})," Delete All"]}),"\xa0",Object(r.jsxs)("button",{type:"button",className:"btn btn-light-primary font-weight-bolder font-size-sm",onClick:t.openFetchCustomersDialog,children:[Object(r.jsx)("i",{className:"fa fa-stream"})," Fetch Selected"]}),"\xa0",Object(r.jsxs)("button",{type:"button",className:"btn btn-light-primary font-weight-bolder font-size-sm",onClick:t.openUpdateCustomersStatusDialog,children:[Object(r.jsx)("i",{className:"fa fa-sync-alt"})," Update Status"]})]})]})})})})}function se(){var e=M(),t=Object(c.useMemo)((function(){return{ids:e.ids,newCustomerButtonClick:e.newCustomerButtonClick}}),[e]);return Object(r.jsxs)(s.b,{children:[Object(r.jsx)(s.d,{title:"Customers list",children:Object(r.jsx)(s.e,{children:Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:t.newCustomerButtonClick,children:"New Customer"})})}),Object(r.jsxs)(s.c,{children:[Object(r.jsx)(Y,{}),t.ids.length>0&&Object(r.jsx)(ie,{}),Object(r.jsx)(ae,{})]})]})}function re(e){var t=e.history,n={newCustomerButtonClick:function(){t.push("/e-commerce/customers/new")},openEditCustomerDialog:function(e){t.push("/e-commerce/customers/".concat(e,"/edit"))},openDeleteCustomerDialog:function(e){t.push("/e-commerce/customers/".concat(e,"/delete"))},openDeleteCustomersDialog:function(){t.push("/e-commerce/customers/deleteCustomers")},openFetchCustomersDialog:function(){t.push("/e-commerce/customers/fetch")},openUpdateCustomersStatusDialog:function(){t.push("/e-commerce/customers/updateStatus")}};return Object(r.jsxs)(H,{customersUIEvents:n,children:[Object(r.jsx)(o,{}),Object(r.jsx)(a.b,{path:"/e-commerce/customers/new",children:function(e){var t=e.history,n=e.match;return Object(r.jsx)(B,{show:null!=n,onHide:function(){t.push("/e-commerce/customers")}})}}),Object(r.jsx)(a.b,{path:"/e-commerce/customers/:id/edit",children:function(e){var t=e.history,n=e.match;return Object(r.jsx)(B,{show:null!=n,id:n&&n.params.id,onHide:function(){t.push("/e-commerce/customers")}})}}),Object(r.jsx)(a.b,{path:"/e-commerce/customers/deleteCustomers",children:function(e){var t=e.history,n=e.match;return Object(r.jsx)(U,{show:null!=n,onHide:function(){t.push("/e-commerce/customers")}})}}),Object(r.jsx)(a.b,{path:"/e-commerce/customers/:id/delete",children:function(e){var t=e.history,n=e.match;return Object(r.jsx)(z,{show:null!=n,id:n&&n.params.id,onHide:function(){t.push("/e-commerce/customers")}})}}),Object(r.jsx)(a.b,{path:"/e-commerce/customers/fetch",children:function(e){var t=e.history,n=e.match;return Object(r.jsx)(Q,{show:null!=n,onHide:function(){t.push("/e-commerce/customers")}})}}),Object(r.jsx)(a.b,{path:"/e-commerce/customers/updateStatus",children:function(e){var t=e.history,n=e.match;return Object(r.jsx)(G,{show:null!=n,onHide:function(){t.push("/e-commerce/customers")}})}}),Object(r.jsx)(se,{})]})}function oe(){var e=Object(i.e)((function(e){return{isLoading:e.products.listLoading}}),i.c).isLoading;return Object(c.useEffect)((function(){}),[e]),Object(r.jsx)(s.h,{isLoading:e,text:"Loading ..."})}var le="api/products";var de=n(405),ue=de.b.actions,je=function(e){return function(t){return t(ue.startCall({callType:de.a.list})),function(e){return u.a.post("".concat(le,"/find"),{queryParams:e})}(e).then((function(e){var n=e.data,c=n.totalCount,a=n.entities;t(ue.productsFetched({totalCount:c,entities:a}))})).catch((function(e){e.clientMessage="Can't find products",t(ue.catchError({error:e,callType:de.a.list}))}))}},me=function(e){return function(t){return e?(t(ue.startCall({callType:de.a.action})),(n=e,u.a.get("".concat(le,"/").concat(n))).then((function(e){var n=e.data;t(ue.productFetched({productForEdit:n}))})).catch((function(e){e.clientMessage="Can't find product",t(ue.catchError({error:e,callType:de.a.action}))}))):t(ue.productFetched({productForEdit:void 0}));var n}},be=function(e){return function(t){return t(ue.startCall({callType:de.a.action})),(n=e,u.a.delete("".concat(le,"/").concat(n))).then((function(n){t(ue.productDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete product",t(ue.catchError({error:e,callType:de.a.action}))}));var n}},he=function(e){return function(t){return t(ue.startCall({callType:de.a.action})),(n=e,u.a.post(le,{product:n})).then((function(e){var n=e.data.product;t(ue.productCreated({product:n}))})).catch((function(e){e.clientMessage="Can't create product",t(ue.catchError({error:e,callType:de.a.action}))}));var n}},pe=function(e){return function(t){return t(ue.startCall({callType:de.a.action})),function(e){return u.a.put("".concat(le,"/").concat(e.id),{product:e})}(e).then((function(){t(ue.productUpdated({product:e}))})).catch((function(e){e.clientMessage="Can't update product",t(ue.catchError({error:e,callType:de.a.action}))}))}},fe=function(e,t){return function(n){return n(ue.startCall({callType:de.a.action})),function(e,t){return u.a.post("".concat(le,"/updateStatusForProducts"),{ids:e,status:t})}(e,t).then((function(){n(ue.productsStatusUpdated({ids:e,status:t}))})).catch((function(e){e.clientMessage="Can't update products status",n(ue.catchError({error:e,callType:de.a.action}))}))}},Oe=function(e){return function(t){return t(ue.startCall({callType:de.a.action})),function(e){return u.a.post("".concat(le,"/deleteProducts"),{ids:e})}(e).then((function(){t(ue.productsDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete products",t(ue.catchError({error:e,callType:de.a.action}))}))}},xe=["success","info",""],ge=["Selling","Sold"],ve=["success","danger",""],ye=["New","Used"],Ce=[{dataField:"id",order:"asc"}],De=[{text:"3",value:3},{text:"5",value:5},{text:"10",value:10}],Ne={filter:{model:"",manufacture:"",VINCode:""},sortOrder:"asc",sortField:"VINCode",pageNumber:1,pageSize:10},Pe=["Red","CadetBlue","Eagle","Gold","LightSlateGrey","RoyalBlue","Crimson","Blue","Sienna","Indigo","Green","Violet","GoldenRod","OrangeRed","Khaki","Teal","Purple","Orange","Pink","Black","DarkTurquoise"],ke=["Pontiac","Kia","Lotus","Subaru","Jeep","Isuzu","Mitsubishi","Oldsmobile","Chevrolet","Chrysler","Audi","Suzuki","GMC","Cadillac","Infinity","Mercury","Dodge","Ram","Lexus","Lamborghini","Honda","Nissan","Ford","Hyundai","Saab","Toyota"],Fe=Object(c.createContext)();function Se(){return Object(c.useContext)(Fe)}Fe.Consumer;function Ee(e){var t=e.productsUIEvents,n=e.children,a=Object(c.useState)(Ne),i=Object(y.a)(a,2),s=i[0],o=i[1],l=Object(c.useState)([]),d=Object(y.a)(l,2),u=d[0],j=d[1],m=Object(c.useCallback)((function(e){o((function(t){return Object(F.isFunction)(e)&&(e=e(t)),Object(F.isEqual)(t,e)?t:e}))}),[]),b={queryParams:s,setQueryParamsBase:o,ids:u,setIds:j,setQueryParams:m,newProductButtonClick:t.newProductButtonClick,openEditProductPage:t.openEditProductPage,openDeleteProductDialog:t.openDeleteProductDialog,openDeleteProductsDialog:t.openDeleteProductsDialog,openFetchProductsDialog:t.openFetchProductsDialog,openUpdateProductsStatusDialog:t.openUpdateProductsStatusDialog};return Object(r.jsx)(Fe.Provider,{value:b,children:n})}function we(e){var t=e.id,n=e.show,a=e.onHide,o=Se(),d=Object(c.useMemo)((function(){return{setIds:o.setIds,queryParams:o.queryParams}}),[o]),u=Object(i.d)(),j=Object(i.e)((function(e){return{isLoading:e.products.actionsLoading}}),i.c).isLoading;Object(c.useEffect)((function(){t||a()}),[t]),Object(c.useEffect)((function(){}),[j,u]);return Object(r.jsxs)(l.a,{show:n,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg",children:[j&&Object(r.jsx)(s.i,{variant:"query"}),Object(r.jsx)(l.a.Header,{closeButton:!0,children:Object(r.jsx)(l.a.Title,{id:"example-modal-sizes-title-lg",children:"Product Delete"})}),Object(r.jsxs)(l.a.Body,{children:[!j&&Object(r.jsx)("span",{children:"Are you sure to permanently delete this product?"}),j&&Object(r.jsx)("span",{children:"Product is deleting..."})]}),Object(r.jsx)(l.a.Footer,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate",children:"Cancel"}),Object(r.jsx)(r.Fragment,{children:" "}),Object(r.jsx)("button",{type:"button",onClick:function(){u(be(t)).then((function(){u(je(d.queryParams)),d.setIds([]),a()}))},className:"btn btn-delete btn-elevate",children:"Delete"})]})})]})}function Ie(e){var t=e.show,n=e.onHide,a=Se(),o=Object(c.useMemo)((function(){return{ids:a.ids,setIds:a.setIds,queryParams:a.queryParams}}),[a]),d=Object(i.d)(),u=Object(i.e)((function(e){return{isLoading:e.products.actionsLoading}}),i.c).isLoading;Object(c.useEffect)((function(){}),[u,d]),Object(c.useEffect)((function(){o.ids&&0!==o.ids.length||n()}),[o.ids]);return Object(r.jsxs)(l.a,{show:t,onHide:n,"aria-labelledby":"example-modal-sizes-title-lg",children:[u&&Object(r.jsx)(s.i,{}),Object(r.jsx)(l.a.Header,{closeButton:!0,children:Object(r.jsx)(l.a.Title,{id:"example-modal-sizes-title-lg",children:"Products Delete"})}),Object(r.jsxs)(l.a.Body,{children:[!u&&Object(r.jsx)("span",{children:"Are you sure to permanently delete selected products?"}),u&&Object(r.jsx)("span",{children:"Products are deleting..."})]}),Object(r.jsx)(l.a.Footer,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{type:"button",onClick:n,className:"btn btn-light btn-elevate",children:"Cancel"}),Object(r.jsx)(r.Fragment,{children:" "}),Object(r.jsx)("button",{type:"button",onClick:function(){d(Oe(o.ids)).then((function(){d(je(o.queryParams)).then((function(){o.setIds([]),n()}))}))},className:"btn btn-primary btn-elevate",children:"Delete"})]})})]})}var qe=function(e,t){var n=[];return t.forEach((function(t){var c=e.find((function(e){return e.id===t}));c&&n.push(c)})),n};function Te(e){var t=e.show,n=e.onHide,a=Se(),s=Object(c.useMemo)((function(){return{ids:a.ids,queryParams:a.queryParams}}),[a]),o=Object(i.e)((function(e){return{products:qe(e.products.entities,s.ids)}}),i.c).products;return Object(c.useEffect)((function(){s.ids&&0!==s.ids.length||n()}),[s.ids]),Object(r.jsxs)(l.a,{show:t,onHide:n,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(r.jsx)(l.a.Header,{closeButton:!0,children:Object(r.jsx)(l.a.Title,{id:"example-modal-sizes-title-lg",children:"Fetch selected elements"})}),Object(r.jsx)(l.a.Body,{children:Object(r.jsx)("div",{className:"list-timeline list-timeline-skin-light padding-30",children:Object(r.jsx)("div",{className:"list-timeline-items",children:o.map((function(e){return Object(r.jsx)("div",{className:"list-timeline-item mb-3",children:Object(r.jsxs)("span",{className:"list-timeline-text",children:[Object(r.jsxs)("span",{className:"label label-lg label-light-".concat(xe[e.status]," label-inline"),style:{width:"60px"},children:["ID: ",e.id]})," ",Object(r.jsxs)("span",{className:"ml-5",children:[e.manufacture,", ",e.model]})]})},e.id)}))})})}),Object(r.jsx)(l.a.Footer,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{type:"button",onClick:n,className:"btn btn-light btn-elevate",children:"Cancel"}),Object(r.jsx)(r.Fragment,{children:" "}),Object(r.jsx)("button",{type:"button",onClick:n,className:"btn btn-primary btn-elevate",children:"Ok"})]})})]})}var Le=function(e,t){var n=[];return t.forEach((function(t){var c=e.find((function(e){return e.id===t}));c&&n.push(c)})),n};function Re(e){var t=e.show,n=e.onHide,a=Se(),s=Object(c.useMemo)((function(){return{ids:a.ids,setIds:a.setIds,queryParams:a.queryParams}}),[a]),o=Object(i.e)((function(e){return{products:Le(e.products.entities,s.ids),isLoading:e.products.actionsLoading}}),i.c),d=o.products,u=o.isLoading;Object(c.useEffect)((function(){(s.ids||0===s.ids.length)&&n()}),[s.ids]);var j=Object(c.useState)(0),m=Object(y.a)(j,2),b=m[0],h=m[1],p=Object(i.d)();return Object(r.jsxs)(l.a,{show:t,onHide:n,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(r.jsx)(l.a.Header,{closeButton:!0,children:Object(r.jsx)(l.a.Title,{id:"example-modal-sizes-title-lg",children:"Status has been updated for selected products"})}),Object(r.jsxs)(l.a.Body,{className:"overlay overlay-block cursor-default",children:[u&&Object(r.jsx)("div",{className:"overlay-layer bg-transparent",children:Object(r.jsx)("div",{className:"spinner spinner-lg spinner-warning"})}),Object(r.jsx)("div",{className:"list-timeline list-timeline-skin-light padding-30",children:Object(r.jsx)("div",{className:"list-timeline-items",children:d.map((function(e){return Object(r.jsx)("div",{className:"list-timeline-item mb-3",children:Object(r.jsxs)("span",{className:"list-timeline-text",children:[Object(r.jsxs)("span",{className:"label label-lg label-light-".concat(xe[e.status]," label-inline"),style:{width:"60px"},children:["ID: ",e.id]})," ",Object(r.jsxs)("span",{className:"ml-5",children:[e.manufacture,", ",e.model]})]})},e.id)}))})})]}),Object(r.jsxs)(l.a.Footer,{className:"form",children:[Object(r.jsx)("div",{className:"form-group",children:Object(r.jsxs)("select",{className:"form-control ".concat(xe[b]),value:b,onChange:function(e){return h(+e.target.value)},children:[Object(r.jsx)("option",{value:"0",children:"Selling"}),Object(r.jsx)("option",{value:"1",children:"Sold"})]})}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("button",{type:"button",onClick:n,className:"btn btn-light btn-elevate",children:"Cancel"}),Object(r.jsx)(r.Fragment,{children:" "}),Object(r.jsx)("button",{type:"button",onClick:function(){p(fe(s.ids,b)).then((function(){p(je(s.queryParams)).then((function(){s.setIds([]),n()}))}))},className:"btn btn-primary btn-elevate",children:"Update Status"})]})]})]})}function Me(e){e.listLoading;var t=Se(),n=Object(c.useMemo)((function(){return{setQueryParams:t.setQueryParams,queryParams:t.queryParams}}),[t]),a=function(e){var t=function(e,t){var n=t.status,c=t.condition,a=t.searchText,i=Object(W.a)({},e),s={};return s.status=""!==n?+n:void 0,s.condition=""!==c?+c:void 0,s.model=a,a&&(s.manufacture=a,s.VINCode=a),i.filter=s,i}(n.queryParams,e);Object(F.isEqual)(t,n.queryParams)||(t.pageNumber=1,n.setQueryParams(t))};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(D.c,{initialValues:{status:"",condition:"",searchText:""},onSubmit:function(e){a(e)},children:function(e){var t=e.values,n=e.handleSubmit,c=e.handleBlur,a=(e.handleChange,e.setFieldValue);return Object(r.jsx)("form",{onSubmit:n,className:"form form-label-right",children:Object(r.jsxs)("div",{className:"form-group row",children:[Object(r.jsxs)("div",{className:"col-lg-2",children:[Object(r.jsxs)("select",{className:"form-control",name:"status",placeholder:"Filter by Status",onChange:function(e){a("status",e.target.value),n()},onBlur:c,value:t.status,children:[Object(r.jsx)("option",{value:"",children:"All"}),Object(r.jsx)("option",{value:"0",children:"Selling"}),Object(r.jsx)("option",{value:"1",children:"Sold"})]}),Object(r.jsxs)("small",{className:"form-text text-muted",children:[Object(r.jsx)("b",{children:"Filter"})," by Status"]})]}),Object(r.jsxs)("div",{className:"col-lg-2",children:[Object(r.jsxs)("select",{className:"form-control",placeholder:"Filter by Type",name:"condition",onBlur:c,onChange:function(e){a("condition",e.target.value),n()},value:t.condition,children:[Object(r.jsx)("option",{value:"",children:"All"}),Object(r.jsx)("option",{value:"0",children:"New"}),Object(r.jsx)("option",{value:"1",children:"Used"})]}),Object(r.jsxs)("small",{className:"form-text text-muted",children:[Object(r.jsx)("b",{children:"Filter"})," by Condition"]})]}),Object(r.jsxs)("div",{className:"col-lg-2",children:[Object(r.jsx)("input",{type:"text",className:"form-control",name:"searchText",placeholder:"Search",onBlur:c,value:t.searchText,onChange:function(e){a("searchText",e.target.value),n()}}),Object(r.jsxs)("small",{className:"form-text text-muted",children:[Object(r.jsx)("b",{children:"Search"})," in all fields"]})]})]})})}})})}var He=function(e,t){return Object(r.jsx)("span",{className:"label label-lg label-light-".concat(xe[t.status]," label-inline"),children:ge[t.status]})},Be=function(e,t){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"badge badge-".concat(ve[t.condition]," badge-dot")}),"\xa0",Object(r.jsx)("span",{className:"font-bold font-".concat(ve[t.condition]),children:ye[t.condition]})]})},ze=function(e,t){return Object(r.jsx)("span",{style:{color:t.color},children:t.color})},Ue=function(e,t){return Object(r.jsxs)(r.Fragment,{children:["$",t.price]})},Ae=n(1025),Qe=n(1014),Ve=function(e,t,n,c){var a=c.openEditProductPage,i=c.openDeleteProductDialog;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ae.a,{overlay:Object(r.jsx)(Qe.a,{id:"products-edit-tooltip",children:"Edit product"}),children:Object(r.jsx)("a",{className:"btn btn-icon btn-light btn-hover-primary btn-sm mx-3",onClick:function(){return a(t.id)},children:Object(r.jsx)("span",{className:"svg-icon svg-icon-md svg-icon-primary",children:Object(r.jsx)(ne.a,{src:Object(Z.j)("/media/svg/icons/Communication/Write.svg")})})})}),Object(r.jsx)(r.Fragment,{children:" "}),Object(r.jsx)(Ae.a,{overlay:Object(r.jsx)(Qe.a,{id:"products-delete-tooltip",children:"Delete product"}),children:Object(r.jsx)("a",{className:"btn btn-icon btn-light btn-hover-danger btn-sm",onClick:function(){return i(t.id)},children:Object(r.jsx)("span",{className:"svg-icon svg-icon-md svg-icon-danger",children:Object(r.jsx)(ne.a,{src:Object(Z.j)("/media/svg/icons/General/Trash.svg")})})})})]})};function Ge(){var e=Se(),t=Object(c.useMemo)((function(){return{ids:e.ids,setIds:e.setIds,queryParams:e.queryParams,setQueryParams:e.setQueryParams,openEditProductPage:e.openEditProductPage,openDeleteProductDialog:e.openDeleteProductDialog}}),[e]),n=Object(i.e)((function(e){return{currentState:e.products}}),i.c).currentState,a=n.totalCount,o=n.entities,l=n.listLoading,d=Object(i.d)();Object(c.useEffect)((function(){t.setIds([]),d(je(t.queryParams))}),[t.queryParams,d]);var u=[{dataField:"VINCode",text:"VIN Code (ID)",sort:!0,sortCaret:Z.i},{dataField:"manufacture",text:"Manufacture",sort:!0,sortCaret:Z.i},{dataField:"model",text:"Model",sort:!0,sortCaret:Z.i},{dataField:"modelYear",text:"Model Year",sort:!0,sortCaret:Z.i},{dataField:"color",text:"Color",sort:!0,sortCaret:Z.i,formatter:ze},{dataField:"price",text:"Price",sort:!0,sortCaret:Z.i,formatter:Ue},{dataField:"status",text:"Status",sort:!0,sortCaret:Z.i,formatter:He},{dataField:"condition",text:"Condition",sort:!0,sortCaret:Z.i,formatter:Be},{dataField:"action",text:"Actions",formatter:Ve,formatExtraData:{openEditProductPage:t.openEditProductPage,openDeleteProductDialog:t.openDeleteProductDialog},classes:"text-right pr-0",headerClasses:"text-right pr-3",style:{minWidth:"100px"}}],j={custom:!0,totalSize:a,sizePerPageList:De,sizePerPage:t.queryParams.pageSize,page:t.queryParams.pageNumber};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(K.PaginationProvider,{pagination:X()(j),children:function(e){var n=e.paginationProps,c=e.paginationTableProps;return Object(r.jsx)(s.k,{isLoading:l,paginationProps:n,children:Object(r.jsxs)(J.a,Object(W.a)(Object(W.a)({wrapperClasses:"table-responsive",classes:"table table-head-custom table-vertical-center overflow-hidden",bootstrap4:!0,bordered:!1,remote:!0,keyField:"id",data:null===o?[]:o,columns:u,defaultSorted:Ce,onTableChange:Object(Z.d)(t.setQueryParams),selectRow:Object(Z.g)({entities:o,ids:t.ids,setIds:t.setIds})},c),{},{children:[Object(r.jsx)(Z.b,{entities:o}),Object(r.jsx)(Z.a,{entities:o})]}))})}})})}function We(){var e=Se(),t=Object(c.useMemo)((function(){return{ids:e.ids,setIds:e.setIds,openDeleteProductsDialog:e.openDeleteProductsDialog,openFetchProductsDialog:e.openFetchProductsDialog,openUpdateProductsStatusDialog:e.openUpdateProductsStatusDialog}}),[e]);return Object(r.jsx)("div",{className:"form",children:Object(r.jsx)("div",{className:"row align-items-center form-group-actions margin-top-20 margin-bottom-20",children:Object(r.jsx)("div",{className:"col-xl-12",children:Object(r.jsxs)("div",{className:"form-group form-group-inline",children:[Object(r.jsx)("div",{className:"form-label form-label-no-wrap",children:Object(r.jsx)("label",{className:"-font-bold font-danger-",children:Object(r.jsxs)("span",{children:["Selected records count: ",Object(r.jsx)("b",{children:t.ids.length})]})})}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("button",{type:"button",className:"btn btn-danger font-weight-bolder font-size-sm",onClick:t.openDeleteProductsDialog,children:[Object(r.jsx)("i",{className:"fa fa-trash"})," Delete All"]}),"\xa0",Object(r.jsxs)("button",{type:"button",className:"btn btn-light-primary font-weight-bolder font-size-sm",onClick:t.openFetchProductsDialog,children:[Object(r.jsx)("i",{className:"fa fa-stream"})," Fetch Selected"]}),"\xa0",Object(r.jsxs)("button",{type:"button",className:"btn btn-light-primary font-weight-bolder font-size-sm",onClick:t.openUpdateProductsStatusDialog,children:[Object(r.jsx)("i",{className:"fa fa-sync-alt"})," Update Status"]})]})]})})})})}function Ye(){var e=Se(),t=Object(c.useMemo)((function(){return{ids:e.ids,queryParams:e.queryParams,setQueryParams:e.setQueryParams,newProductButtonClick:e.newProductButtonClick,openDeleteProductsDialog:e.openDeleteProductsDialog,openEditProductPage:e.openEditProductPage,openUpdateProductsStatusDialog:e.openUpdateProductsStatusDialog,openFetchProductsDialog:e.openFetchProductsDialog}}),[e]);return Object(r.jsxs)(s.b,{children:[Object(r.jsx)(s.d,{title:"Products list",children:Object(r.jsx)(s.e,{children:Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:t.newProductButtonClick,children:"New Product"})})}),Object(r.jsxs)(s.c,{children:[Object(r.jsx)(Me,{}),t.ids.length>0&&Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(We,{})}),Object(r.jsx)(Ge,{})]})]})}function $e(e){var t=e.history,n={newProductButtonClick:function(){t.push("/e-commerce/products/new")},openEditProductPage:function(e){t.push("/e-commerce/products/".concat(e,"/edit"))},openDeleteProductDialog:function(e){t.push("/e-commerce/products/".concat(e,"/delete"))},openDeleteProductsDialog:function(){t.push("/e-commerce/products/deleteProducts")},openFetchProductsDialog:function(){t.push("/e-commerce/products/fetch")},openUpdateProductsStatusDialog:function(){t.push("/e-commerce/products/updateStatus")}};return Object(r.jsxs)(Ee,{productsUIEvents:n,children:[Object(r.jsx)(oe,{}),Object(r.jsx)(a.b,{path:"/e-commerce/products/deleteProducts",children:function(e){var t=e.history,n=e.match;return Object(r.jsx)(Ie,{show:null!=n,onHide:function(){t.push("/e-commerce/products")}})}}),Object(r.jsx)(a.b,{path:"/e-commerce/products/:id/delete",children:function(e){var t=e.history,n=e.match;return Object(r.jsx)(we,{show:null!=n,id:n&&n.params.id,onHide:function(){t.push("/e-commerce/products")}})}}),Object(r.jsx)(a.b,{path:"/e-commerce/products/fetch",children:function(e){var t=e.history,n=e.match;return Object(r.jsx)(Te,{show:null!=n,onHide:function(){t.push("/e-commerce/products")}})}}),Object(r.jsx)(a.b,{path:"/e-commerce/products/updateStatus",children:function(e){var t=e.history,n=e.match;return Object(r.jsx)(Re,{show:null!=n,onHide:function(){t.push("/e-commerce/products")}})}}),Object(r.jsx)(Ye,{})]})}var Je=N.d().shape({model:N.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Model is required"),manufacture:N.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Manufacture is required"),modelYear:N.c().min(1950,"1950 is minimum").max(2020,"2020 is maximum").required("Model year is required"),mileage:N.c().min(0,"0 is minimum").max(1e6,"1000000 is maximum").required("Mileage is required"),color:N.f().required("Color is required"),price:N.c().min(1,"$1 is minimum").max(1e6,"$1000000 is maximum").required("Price is required"),VINCode:N.f().required("VINCode is required")});function Ke(e){var t=e.product,n=e.btnRef,c=e.saveProduct;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(D.c,{enableReinitialize:!0,initialValues:t,validationSchema:Je,onSubmit:function(e){c(e)},children:function(e){var t=e.handleSubmit;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(D.b,{className:"form form-label-right",children:[Object(r.jsxs)("div",{className:"form-group row",children:[Object(r.jsx)("div",{className:"col-lg-4",children:Object(r.jsx)(D.a,{name:"model",component:s.g,placeholder:"Model",label:"Model"})}),Object(r.jsx)("div",{className:"col-lg-4",children:Object(r.jsx)(s.l,{name:"manufacture",label:"Manufacture",children:ke.map((function(e){return Object(r.jsx)("option",{value:e,children:e},e)}))})}),Object(r.jsx)("div",{className:"col-lg-4",children:Object(r.jsx)(D.a,{type:"number",name:"modelYear",component:s.g,placeholder:"Model year",label:"Model year"})})]}),Object(r.jsxs)("div",{className:"form-group row",children:[Object(r.jsx)("div",{className:"col-lg-4",children:Object(r.jsx)(D.a,{type:"number",name:"mileage",component:s.g,placeholder:"Mileage",label:"Mileage"})}),Object(r.jsx)("div",{className:"col-lg-4",children:Object(r.jsx)(s.l,{name:"color",label:"Color",children:Pe.map((function(e){return Object(r.jsx)("option",{value:e,children:e},e)}))})}),Object(r.jsx)("div",{className:"col-lg-4",children:Object(r.jsx)(D.a,{type:"number",name:"price",component:s.g,placeholder:"Price",label:"Price ($)",customFeedbackLabel:"Please enter Price"})})]}),Object(r.jsxs)("div",{className:"form-group row",children:[Object(r.jsx)("div",{className:"col-lg-4",children:Object(r.jsx)(D.a,{name:"VINCode",component:s.g,placeholder:"VIN code",label:"VIN code"})}),Object(r.jsx)("div",{className:"col-lg-4",children:Object(r.jsx)(s.l,{name:"status",label:"Status",children:ge.map((function(e,t){return Object(r.jsx)("option",{value:t,children:e},e)}))})}),Object(r.jsx)("div",{className:"col-lg-4",children:Object(r.jsx)(s.l,{name:"condition",label:"Condition",children:ye.map((function(e,t){return Object(r.jsx)("option",{value:t,children:e},e)}))})})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"Description"}),Object(r.jsx)(D.a,{name:"description",as:"textarea",className:"form-control"})]}),Object(r.jsx)("button",{type:"submit",style:{display:"none"},ref:n,onSubmit:function(){return t()}})]})})}})})}var Xe=[{dataField:"id",order:"asc"}],Ze=[{text:"1",value:1},{text:"3",value:3},{text:"5",value:5}],_e={filter:{value:""},sortOrder:"asc",sortField:"name",pageNumber:1,pageSize:5},et=[{id:0,name:"Seats"},{id:1,name:"Fuel Type"},{id:2,name:"Stock"},{id:3,name:"Door count"},{id:4,name:"Engine"},{id:5,name:"Transmission"},{id:6,name:"Drivetrain"},{id:7,name:"Combined MPG"},{id:8,name:"Warranty"},{id:9,name:"Wheels"}],tt=Object(c.createContext)();function nt(){return Object(c.useContext)(tt)}tt.Consumer;function ct(e){var t=e.currentProductId,n=e.children,a=Object(c.useState)(t),i=Object(y.a)(a,2),s=i[0],o=i[1],l=Object(c.useState)(_e),d=Object(y.a)(l,2),u=d[0],j=d[1],m=Object(c.useState)([]),b=Object(y.a)(m,2),h=b[0],p=b[1],f=Object(c.useCallback)((function(e){j((function(t){return Object(F.isFunction)(e)&&(e=e(t)),Object(F.isEqual)(t,e)?t:e}))}),[]),O=Object(c.useState)(null),x=Object(y.a)(O,2),g=x[0],v=x[1],C={id:void 0,value:"",specId:0,carId:s};Object(c.useEffect)((function(){C.carId=t,C.productId=t,o(t)}),[t]);var D=Object(c.useState)(!1),N=Object(y.a)(D,2),P=N[0],k=N[1],S=Object(c.useState)(!1),E=Object(y.a)(S,2),w=E[0],I=E[1],q=Object(c.useState)(!1),T=Object(y.a)(q,2),L=T[0],R=T[1],M=Object(c.useState)(!1),H=Object(y.a)(M,2),B=H[0],z=H[1],U={ids:h,setIds:p,productId:s,setProductId:o,queryParams:u,setQueryParams:f,initSpecification:C,selectedId:g,showEditSpecificationDialog:P,openEditSpecificationDialog:function(e){v(e),k(!0)},openNewSpecificationDialog:function(){v(void 0),k(!0)},closeEditSpecificationDialog:function(){v(void 0),k(!1)},showDeleteSpecificationDialog:w,openDeleteSpecificationDialog:function(e){v(e),I(!0)},closeDeleteSpecificationDialog:function(){v(void 0),I(!1)},showDeleteSpecificationsDialog:L,openDeleteSpecificationsDialog:function(){R(!0)},closeDeleteSpecificationsDialog:function(){R(!1)},showFetchSpecificationsDialog:B,openFetchSpecificationsDialog:function(){z(!0)},closeFetchSpecificationsDialog:function(){z(!1)}};return Object(r.jsx)(tt.Provider,{value:U,children:n})}function at(){var e=nt(),t=Object(c.useMemo)((function(){return{openNewSpecificationDialog:e.openNewSpecificationDialog,setQueryParams:e.setQueryParams,queryParams:e.queryParams}}),[e]),n=function(e){var n=function(e,t){var n=t.searchText,c=Object(W.a)({},e),a={};return a.value=n,n&&(a.name=n),c.filter=a,c}(t.queryParams,e);Object(F.isEqual)(n,t.queryParams)||(n.pageNumber=1,t.setQueryParams(n))};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"form-filtration",children:Object(r.jsxs)("div",{className:"row align-items-center",children:[Object(r.jsx)("div",{className:"col-md-2 margin-bottom-10-mobile",children:Object(r.jsx)(D.c,{initialValues:{searchText:""},onSubmit:function(e){n(e)},children:function(e){var t=e.values,n=e.handleSubmit,c=e.handleBlur,a=(e.handleChange,e.setFieldValue);return Object(r.jsx)("form",{onSubmit:n,children:Object(r.jsxs)("div",{children:[Object(r.jsx)("input",{type:"text",className:"form-control",name:"searchText",placeholder:"Search",onBlur:c,value:t.searchText,onChange:function(e){a("searchText",e.target.value),n()}}),Object(r.jsxs)("small",{className:"form-text text-muted",children:[Object(r.jsx)("b",{children:"Search"})," in all fields"]})]})})}})}),Object(r.jsx)("div",{className:"col-md-7 margin-bottom-10-mobile"}),Object(r.jsx)("div",{className:"col-md-3 text-right margin-bottom-10-mobile",children:Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.openNewSpecificationDialog()},children:"Create new specification"})})]})})})}var it="api/specifications";var st=n(141),rt={listLoading:!1,actionsLoading:!1,totalCount:0,entities:null,specificationForEdit:void 0,lastError:null},ot="list",lt="action",dt=Object(st.b)({name:"specifications",initialState:rt,reducers:{catchError:function(e,t){e.error="".concat(t.type,": ").concat(t.payload.error),t.payload.callType===ot?e.listLoading=!1:e.actionsLoading=!1},startCall:function(e,t){e.error=null,t.payload.callType===ot?e.listLoading=!0:e.actionsLoading=!0},specificationFetched:function(e,t){e.actionsLoading=!1,e.specificationForEdit=t.payload.specificationForEdit,e.error=null},specificationsFetched:function(e,t){var n=t.payload,c=n.totalCount,a=n.entities;e.listLoading=!1,e.error=null,e.entities=a,e.totalCount=c},specificationCreated:function(e,t){e.actionsLoading=!1,e.error=null,e.entities.push(t.payload.specification)},specificationUpdated:function(e,t){e.error=null,e.actionsLoading=!1,e.entities=e.entities.map((function(e){return e.id===t.payload.specification.id?t.payload.specification:e}))},specificationDeleted:function(e,t){e.error=null,e.actionsLoading=!1,e.entities=e.entities.filter((function(e){return e.id!==t.payload.id}))},specificationsDeleted:function(e,t){e.error=null,e.actionsLoading=!1,e.entities=e.entities.filter((function(e){return!t.payload.ids.includes(e.id)}))}}}).actions,ut=function(e,t){return function(n){return n(dt.startCall({callType:ot})),t?function(e,t){return u.a.post("".concat(it,"find/").concat(t),{queryParams:e})}(e,t).then((function(e){var t=e.data,c=t.totalCount,a=t.entities;n(dt.specificationsFetched({totalCount:c,entities:a}))})).catch((function(e){e.clientMessage="Can't find specifications",n(dt.catchError({error:e,callType:ot}))})):n(dt.specificationsFetched({totalCount:0,entities:null}))}},jt=function(e){return function(t){return e?(t(dt.startCall({callType:lt})),(n=e,u.a.get("".concat(it,"/").concat(n))).then((function(e){var n=e.data;t(dt.specificationFetched({specificationForEdit:n}))})).catch((function(e){e.clientMessage="Can't find specification",t(dt.catchError({error:e,callType:lt}))}))):t(dt.specificationFetched({specificationForEdit:void 0}));var n}},mt=function(e){return function(t){return t(dt.startCall({callType:lt})),(n=e,u.a.delete("".concat(it,"/").concat(n))).then((function(n){t(dt.specificationDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete specification",t(dt.catchError({error:e,callType:lt}))}));var n}},bt=function(e){return function(t){return t(dt.startCall({callType:lt})),(n=e,u.a.post(it,{specification:n})).then((function(e){var n=e.data.specification;t(dt.specificationCreated({specification:n}))})).catch((function(e){e.clientMessage="Can't create specification",t(dt.catchError({error:e,callType:lt}))}));var n}},ht=function(e){return function(t){return t(dt.startCall({callType:lt})),function(e){return u.a.put("".concat(it,"/").concat(e.id),{specification:e})}(e).then((function(){t(dt.specificationUpdated({specification:e}))})).catch((function(e){e.clientMessage="Can't update specification",t(dt.catchError({error:e,callType:lt}))}))}},pt=function(e){return function(t){return t(dt.startCall({callType:lt})),function(e){return u.a.post("".concat(it,"/deleteSpecifications"),{ids:e})}(e).then((function(){t(dt.specificationsDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete specifications",t(dt.catchError({error:e,callType:lt}))}))}};function ft(e,t,n,c){var a=c.openEditSpecificationDialog,i=c.openDeleteSpecificationDialog;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ae.a,{overlay:Object(r.jsx)(Qe.a,{id:"specs-edit-tooltip",children:"Edit specification"}),children:Object(r.jsx)("a",{className:"btn btn-icon btn-light btn-hover-primary btn-sm mx-3",onClick:function(){return a(t.id)},children:Object(r.jsx)("span",{className:"svg-icon svg-icon-md svg-icon-primary",children:Object(r.jsx)(ne.a,{src:Object(Z.j)("/media/svg/icons/Communication/Write.svg")})})})}),Object(r.jsx)(r.Fragment,{children:" "}),Object(r.jsx)(Ae.a,{overlay:Object(r.jsx)(Qe.a,{id:"spec-delete-tooltip",children:"Delete specification"}),children:Object(r.jsx)("a",{className:"btn btn-icon btn-light btn-hover-danger btn-sm",onClick:function(){return i(t.id)},children:Object(r.jsx)("span",{className:"svg-icon svg-icon-md svg-icon-danger",children:Object(r.jsx)(ne.a,{src:Object(Z.j)("/media/svg/icons/General/Trash.svg")})})})})]})}function Ot(){var e=nt(),t=Object(c.useMemo)((function(){return{queryParams:e.queryParams,setQueryParams:e.setQueryParams,openEditSpecificationDialog:e.openEditSpecificationDialog,openDeleteSpecificationDialog:e.openDeleteSpecificationDialog,ids:e.ids,setIds:e.setIds,productId:e.productId}}),[e]),n=Object(i.e)((function(e){return{currentState:e.specifications}}),i.c).currentState,a=n.totalCount,o=n.entities,l=n.listLoading,d=Object(i.d)();Object(c.useEffect)((function(){t.setIds([]),d(ut(t.queryParams,t.productId))}),[t.queryParams,d,t.productId]);var u=[{dataField:"name",text:"Specification Type",sort:!0,sortCaret:Z.i},{dataField:"value",text:"Value",sort:!0,sortCaret:Z.i},{dataField:"action",text:"Actions",formatter:ft,formatExtraData:{openEditSpecificationDialog:t.openEditSpecificationDialog,openDeleteSpecificationDialog:t.openDeleteSpecificationDialog},classes:"text-right pr-0",headerClasses:"text-right pr-3",style:{minWidth:"100px"}}],j={custom:!0,totalSize:a,sizePerPageList:Ze,sizePerPage:t.queryParams.pageSize,page:t.queryParams.pageNumber};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(K.PaginationProvider,{pagination:X()(j),children:function(e){var n=e.paginationProps,c=e.paginationTableProps;return Object(r.jsx)(s.k,{isLoading:l,paginationProps:n,children:Object(r.jsxs)(J.a,Object(W.a)(Object(W.a)({wrapperClasses:"table-responsive",classes:"table table-head-custom table-vertical-center overflow-hidden",bordered:!1,bootstrap4:!0,remote:!0,keyField:"id",data:null===o?[]:o,columns:u,defaultSorted:Xe,onTableChange:Object(Z.d)(t.setQueryParams),selectRow:Object(Z.g)({entities:o,ids:t.ids,setIds:t.setIds})},c),{},{children:[Object(r.jsx)(Z.b,{entities:o}),Object(r.jsx)(Z.a,{entities:o})]}))})}})})}function xt(){var e=Object(i.e)((function(e){return{isLoading:e.specifications.listLoading}}),i.c).isLoading;return Object(c.useEffect)((function(){}),[e]),Object(r.jsx)(s.h,{isLoading:e,text:"Loading ..."})}function gt(){var e=nt(),t=Object(c.useMemo)((function(){return{productId:e.productId,ids:e.ids,show:e.showDeleteSpecificationsDialog,onHide:e.closeDeleteSpecificationsDialog,setIds:e.setIds,queryParams:e.queryParams}}),[e]),n=Object(i.d)(),a=Object(i.e)((function(e){return{isLoading:e.specifications.actionsLoading}}),i.c).isLoading;Object(c.useEffect)((function(){}),[a,n]),Object(c.useEffect)((function(){t.ids&&0!==t.ids.length||t.onHide()}),[t.ids]);return Object(r.jsxs)(l.a,{show:t.show,onHide:t.onHide,"aria-labelledby":"example-modal-sizes-title-lg",children:[a&&Object(r.jsx)(s.i,{variant:"query"}),Object(r.jsx)(l.a.Header,{closeButton:!0,children:Object(r.jsx)(l.a.Title,{id:"example-modal-sizes-title-lg",children:"Specifications Delete"})}),Object(r.jsxs)(l.a.Body,{children:[!a&&Object(r.jsx)("span",{children:"Are you sure to permanently delete selected specifications?"}),a&&Object(r.jsx)("span",{children:"Specifications are deleting..."})]}),Object(r.jsx)(l.a.Footer,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{type:"button",onClick:t.onHide,className:"btn btn-light btn-elevate",children:"Cancel"}),Object(r.jsx)(r.Fragment,{children:" "}),Object(r.jsx)("button",{type:"button",onClick:function(){n(pt(t.ids)).then((function(){n(ut(t.queryParams,t.productId)).then((function(){t.setIds([]),t.onHide()}))}))},className:"btn btn-primary btn-elevate",children:"Delete"})]})})]})}function vt(){var e=nt(),t=Object(c.useMemo)((function(){return{id:e.selectedId,productId:e.productId,show:e.showDeleteSpecificationDialog,onHide:e.closeDeleteSpecificationDialog,queryParams:e.queryParams,setIds:e.setIds}}),[e]),n=Object(i.d)(),a=Object(i.e)((function(e){return{isLoading:e.specifications.actionsLoading}}),i.c).isLoading;Object(c.useEffect)((function(){t.id||t.onHide()}),[t.id]),Object(c.useEffect)((function(){}),[a,n]);return Object(r.jsxs)(l.a,{show:t.show,onHide:t.onHide,"aria-labelledby":"example-modal-sizes-title-lg",children:[a&&Object(r.jsx)(s.i,{variant:"query"}),Object(r.jsx)(l.a.Header,{closeButton:!0,children:Object(r.jsx)(l.a.Title,{id:"example-modal-sizes-title-lg",children:"Specification Delete"})}),Object(r.jsxs)(l.a.Body,{children:[!a&&Object(r.jsx)("span",{children:"Are you sure to permanently delete this specification?"}),a&&Object(r.jsx)("span",{children:"Specification is deleting..."})]}),Object(r.jsx)(l.a.Footer,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{type:"button",onClick:t.onHide,className:"btn btn-light btn-elevate",children:"Cancel"}),Object(r.jsx)(r.Fragment,{children:" "}),Object(r.jsx)("button",{type:"button",onClick:function(){n(mt(t.id)).then((function(){n(ut(t.queryParams,t.productId)),t.setIds([]),t.onHide()}))},className:"btn btn-primary btn-elevate",children:"Delete"})]})})]})}var yt=function(e,t){var n=[];return t.forEach((function(t){var c=e.find((function(e){return e.id===t}));c&&n.push(c)})),n};function Ct(){var e=nt(),t=Object(c.useMemo)((function(){return{ids:e.ids,show:e.showFetchSpecificationsDialog,onHide:e.closeFetchSpecificationsDialog,queryParams:e.queryParams}}),[e]),n=Object(i.e)((function(e){return{specifications:yt(e.specifications.entities,t.ids)}}),i.c).specifications;return Object(c.useEffect)((function(){t.ids&&0!==t.ids.length||t.onHide()}),[t.ids]),Object(r.jsxs)(l.a,{show:t.show,onHide:t.onHide,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(r.jsx)(l.a.Header,{closeButton:!0,children:Object(r.jsx)(l.a.Title,{id:"example-modal-sizes-title-lg",children:"Fetch selected elements"})}),Object(r.jsx)(l.a.Body,{children:Object(r.jsx)("div",{className:"list-timeline list-timeline-skin-light padding-30",children:Object(r.jsx)("div",{className:"list-timeline-items",children:n.map((function(e){return Object(r.jsx)("div",{className:"list-timeline-item mb-3",children:Object(r.jsxs)("span",{className:"list-timeline-text",children:[Object(r.jsxs)("span",{className:"label label-lg label-light-success label-inline",style:{width:"60px"},children:["ID: ",e.id]})," ",Object(r.jsxs)("span",{className:"ml-5",children:[e.name,": ",e.value," "]})]})},e.id)}))})})}),Object(r.jsx)(l.a.Footer,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{type:"button",onClick:t.onHide,className:"btn btn-light btn-elevate",children:"Cancel"}),Object(r.jsx)(r.Fragment,{children:" "}),Object(r.jsx)("button",{type:"button",onClick:t.onHide,className:"btn btn-primary btn-elevate",children:"Ok"})]})})]})}function Dt(){var e=nt(),t=Object(c.useMemo)((function(){return{ids:e.ids,openDeleteSpecificationsDialog:e.openDeleteSpecificationsDialog,openFetchSpecificationsDialog:e.openFetchSpecificationsDialog}}),[e]);return Object(r.jsx)("div",{className:"form",children:Object(r.jsx)("div",{className:"row align-items-center form-group-actions margin-top-20",children:Object(r.jsx)("div",{className:"col-xl-12",children:Object(r.jsxs)("div",{className:"form-group form-group-inline",children:[Object(r.jsx)("div",{className:"form-label form-label-no-wrap",children:Object(r.jsx)("label",{className:"font-bold font-danger mt-5",children:Object(r.jsxs)("span",{children:["Selected records count: ",t.ids.length]})})}),Object(r.jsxs)("div",{className:"form-group-inline",children:[Object(r.jsxs)("button",{type:"button",className:"btn btn-danger font-weight-bolder font-size-sm",onClick:t.openDeleteSpecificationsDialog,children:[Object(r.jsx)("i",{className:"fa fa-trash"})," Delete All"]}),"\xa0",Object(r.jsxs)("button",{type:"button",className:"btn btn-light-primary font-weight-bolder font-size-sm",onClick:t.openFetchSpecificationsDialog,children:[Object(r.jsx)("i",{className:"fa fa-stream"})," Fetch Selected"]})]})]})})})})}function Nt(e){var t=e.id,n=Object(c.useState)(""),a=Object(y.a)(n,2),o=a[0],d=a[1],u=Object(i.e)((function(e){return{specificationForEdit:e.specifications.specificationForEdit,actionsLoading:e.specifications.actionsLoading}}),i.c),j=u.specificationForEdit,m=u.actionsLoading;return Object(c.useEffect)((function(){var e=t?"":"New Specification";j&&t&&(e="Edit Specification"),d(e)}),[j,m]),Object(r.jsxs)(r.Fragment,{children:[m&&Object(r.jsx)(s.i,{variant:"query"}),Object(r.jsx)(l.a.Header,{closeButton:!0,children:Object(r.jsx)(l.a.Title,{id:"example-modal-sizes-title-lg",children:o})})]})}var Pt=N.d().shape({value:N.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Value is required"),specId:N.c().required("Specification type is required")});function kt(e){var t=e.saveSpecification,n=e.specification,c=e.actionsLoading,a=e.onHide;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(D.c,{enableReinitialize:!0,initialValues:n,validationSchema:Pt,onSubmit:function(e){t(e)},children:function(e){var t=e.handleSubmit;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(l.a.Body,{className:"overlay overlay-block cursor-default",children:[c&&Object(r.jsx)("div",{className:"overlay-layer bg-transparent",children:Object(r.jsx)("div",{className:"spinner spinner-lg spinner-success"})}),Object(r.jsxs)(D.b,{className:"form form-label-right",children:[Object(r.jsx)("div",{className:"form-group row",children:Object(r.jsx)("div",{className:"col-lg-12",children:Object(r.jsx)(s.l,{name:"specId",label:"Specification Type",children:et.map((function(e){return Object(r.jsx)("option",{value:e.id,children:e.name},e.id)}))})})}),Object(r.jsx)("div",{className:"form-group row",children:Object(r.jsx)("div",{className:"col-lg-12",children:Object(r.jsx)(D.a,{name:"value",component:s.g,placeholder:"Value",label:"Value"})})})]})]}),Object(r.jsxs)(l.a.Footer,{children:[Object(r.jsx)("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate",children:"Cancel"}),Object(r.jsx)(r.Fragment,{children:" "}),Object(r.jsx)("button",{type:"submit",onClick:function(){return t()},className:"btn btn-primary btn-elevate",children:"Save"})]})]})}})})}function Ft(){var e=nt(),t=Object(c.useMemo)((function(){return{id:e.selectedId,show:e.showEditSpecificationDialog,onHide:e.closeEditSpecificationDialog,productId:e.productId,queryParams:e.queryParams,initSpecification:e.initSpecification}}),[e]),n=Object(i.d)(),a=Object(i.e)((function(e){return{actionsLoading:e.specifications.actionsLoading,specificationForEdit:e.specifications.specificationForEdit}}),i.c),s=a.actionsLoading,o=a.specificationForEdit;Object(c.useEffect)((function(){n(jt(t.id))}),[t.id,n]);return Object(r.jsxs)(l.a,{show:t.show,onHide:t.onHide,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(r.jsx)(Nt,{id:t.id}),Object(r.jsx)(kt,{saveSpecification:function(e){t.id?n(ht(e)).then((function(){n(ut(t.queryParams,t.productId)).then((function(){return t.onHide()}))})):n(bt(e)).then((function(){n(ut(t.queryParams,t.productId)).then((function(){return t.onHide()}))}))},actionsLoading:s,specification:o||t.initSpecification,onHide:t.onHide})]})}function St(){var e=nt(),t=Object(c.useMemo)((function(){return{ids:e.ids}}),[e]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(xt,{}),Object(r.jsx)(Ft,{}),Object(r.jsx)(vt,{}),Object(r.jsx)(gt,{}),Object(r.jsx)(Ct,{}),Object(r.jsxs)("div",{className:"form margin-b-30",children:[Object(r.jsx)(at,{}),t.ids.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Dt,{}),Object(r.jsx)("br",{})]})]}),Object(r.jsx)(Ot,{})]})}var Et=n(33),wt=[{dataField:"id",order:"asc"}],It=[{text:"1",value:1},{text:"3",value:3},{text:"5",value:5}],qt={filter:{text:""},sortOrder:"asc",sortField:"id",pageNumber:1,pageSize:5},Tt=Object(c.createContext)();function Lt(){return Object(c.useContext)(Tt)}Tt.Consumer;function Rt(e){var t=e.currentProductId,n=e.children,a=Object(c.useState)(t),i=Object(y.a)(a,2),s=i[0],o=i[1],l=Object(c.useState)(qt),d=Object(y.a)(l,2),u=d[0],j=d[1],m=Object(c.useState)([]),b=Object(y.a)(m,2),h=b[0],p=b[1],f=Object(c.useCallback)((function(e){j((function(t){return Object(F.isFunction)(e)&&(e=e(t)),Object(F.isEqual)(t,e)?t:e}))}),[]),O=Object(c.useState)(null),x=Object(y.a)(O,2),g=x[0],v=x[1],C=Object(c.useState)(!1),D=Object(y.a)(C,2),N=D[0],P=D[1],k={id:void 0,text:"",type:0,dueDate:"01/07/2020",carId:s};Object(c.useEffect)((function(){k.productId=t,k.carId=t,o(t)}),[t]);var S=Object(c.useState)(!1),E=Object(y.a)(S,2),w=E[0],I=E[1],q=Object(c.useState)(!1),T=Object(y.a)(q,2),L=T[0],R=T[1],M=Object(c.useState)(!1),H=Object(y.a)(M,2),B=H[0],z=H[1],U={ids:h,setIds:p,productId:s,setProductId:o,queryParams:u,setQueryParams:f,initRemark:k,selectedId:g,showEditRemarkDialog:N,openNewRemarkDialog:function(){v(void 0),P(!0)},openEditRemarkDialog:function(e){v(e),P(!0)},closeEditRemarkDialog:function(){v(void 0),P(!1)},showDeleteRemarkDialog:w,openDeleteRemarkDialog:function(e){v(e),I(!0)},closeDeleteRemarkDialog:function(){v(void 0),I(!1)},showDeleteRemarksDialog:L,openDeleteRemarksDialog:function(){R(!0)},closeDeleteRemarksDialog:function(){R(!1)},openFetchRemarksDialog:function(){z(!0)},closeFetchRemarksDialog:function(){z(!1)},showFetchRemarksDialog:B};return Object(r.jsx)(Tt.Provider,{value:U,children:n})}function Mt(){var e=Lt(),t=Object(c.useMemo)((function(){return{setQueryParams:e.setQueryParams,openNewRemarkDialog:e.openNewRemarkDialog,queryParams:e.queryParams}}),[e]),n=function(e){var n=function(e,t){var n=t.searchText,c=Object(W.a)({},e),a={};return a.text=n,c.filter=a,c}(t.queryParams,e);Object(F.isEqual)(n,t.queryParams)||(n.pageNumber=1,t.setQueryParams(n))};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"form-filtration",children:Object(r.jsxs)("div",{className:"row align-items-center",children:[Object(r.jsx)("div",{className:"col-md-2 margin-bottom-10-mobile",children:Object(r.jsx)(D.c,{initialValues:{searchText:""},onSubmit:function(e){n(e)},children:function(e){var t=e.values,n=e.handleSubmit,c=e.handleBlur,a=(e.handleChange,e.setFieldValue);return Object(r.jsx)("form",{onSubmit:n,children:Object(r.jsxs)("div",{children:[Object(r.jsx)("input",{type:"text",className:"form-control",name:"searchText",placeholder:"Search",onBlur:c,value:t.searchText,onChange:function(e){a("searchText",e.target.value),n()}}),Object(r.jsxs)("small",{className:"form-text text-muted",children:[Object(r.jsx)("b",{children:"Search"})," in all fields"]})]})})}})}),Object(r.jsx)("div",{className:"col-md-8 margin-bottom-10-mobile"}),Object(r.jsx)("div",{className:"col-md-2 text-right margin-bottom-10-mobile",children:Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.openNewRemarkDialog()},children:"Create new remark"})})]})})})}var Ht="api/remarks";var Bt={listLoading:!1,actionsLoading:!1,totalCount:0,entities:null,remarkForEdit:void 0,lastError:null},zt="list",Ut="action",At=Object(st.b)({name:"remarks",initialState:Bt,reducers:{catchError:function(e,t){e.error="".concat(t.type,": ").concat(t.payload.error),t.payload.callType===zt?e.listLoading=!1:e.actionsLoading=!1},startCall:function(e,t){e.error=null,t.payload.callType===zt?e.listLoading=!0:e.actionsLoading=!0},remarkFetched:function(e,t){e.actionsLoading=!1,e.remarkForEdit=t.payload.remarkForEdit,e.error=null},remarksFetched:function(e,t){var n=t.payload,c=n.totalCount,a=n.entities;e.listLoading=!1,e.error=null,e.entities=a,e.totalCount=c},remarkCreated:function(e,t){e.actionsLoading=!1,e.error=null,e.entities.push(t.payload.remark)},remarkUpdated:function(e,t){e.error=null,e.actionsLoading=!1,e.entities=e.entities.map((function(e){return e.id===t.payload.remark.id?t.payload.remark:e}))},remarkDeleted:function(e,t){e.error=null,e.actionsLoading=!1,e.entities=e.entities.filter((function(e){return e.id!==t.payload.id}))},remarksDeleted:function(e,t){e.error=null,e.actionsLoading=!1,e.entities=e.entities.filter((function(e){return!t.payload.ids.includes(e.id)}))},remarksStatusUpdated:function(e,t){e.actionsLoading=!1,e.error=null;var n=t.payload,c=n.ids,a=n.status;e.entities=e.entities.map((function(e){return c.findIndex((function(t){return t===e.id}))>-1&&(e.status=a),e}))}}}).actions,Qt=function(e,t){return function(n){return n(At.startCall({callType:zt})),t?function(e,t){return u.a.post("".concat(Ht,"find/").concat(t),{queryParams:e})}(e,t).then((function(e){var t=e.data,c=t.totalCount,a=t.entities;n(At.remarksFetched({totalCount:c,entities:a}))})).catch((function(e){e.clientMessage="Can't find remarks",n(At.catchError({error:e,callType:zt}))})):n(At.remarksFetched({totalCount:0,entities:null}))}},Vt=function(e){return function(t){return e?(t(At.startCall({callType:Ut})),(n=e,u.a.get("".concat(Ht,"/").concat(n))).then((function(e){var n=e.data;t(At.remarkFetched({remarkForEdit:n}))})).catch((function(e){e.clientMessage="Can't find remark",t(At.catchError({error:e,callType:Ut}))}))):t(At.remarkFetched({remarkForEdit:void 0}));var n}},Gt=function(e){return function(t){return t(At.startCall({callType:Ut})),(n=e,u.a.delete("".concat(Ht,"/").concat(n))).then((function(n){t(At.remarkDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete remark",t(At.catchError({error:e,callType:Ut}))}));var n}},Wt=function(e){return function(t){return t(At.startCall({callType:Ut})),(n=e,u.a.post(Ht,{remark:n})).then((function(e){var n=e.data.remark;t(At.remarkCreated({remark:n}))})).catch((function(e){e.clientMessage="Can't create remark",t(At.catchError({error:e,callType:Ut}))}));var n}},Yt=function(e){return function(t){return t(At.startCall({callType:Ut})),function(e){return u.a.put("".concat(Ht,"/").concat(e.id),{remark:e})}(e).then((function(){t(At.remarkUpdated({remark:e}))})).catch((function(e){e.clientMessage="Can't update remark",t(At.catchError({error:e,callType:Ut}))}))}},$t=function(e){return function(t){return t(At.startCall({callType:Ut})),function(e){return u.a.post("".concat(Ht,"/deleteRemarks"),{ids:e})}(e).then((function(){console.log("delete return"),t(At.remarksDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete remarks",t(At.catchError({error:e,callType:Ut}))}))}},Jt=function(e,t,n,c){var a=c.openEditRemarkDialog,i=c.openDeleteRemarkDialog;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ae.a,{overlay:Object(r.jsx)(Qe.a,{id:"customers-edit-tooltip",children:"Edit remark"}),children:Object(r.jsx)("a",{className:"btn btn-icon btn-light btn-hover-primary btn-sm mx-3",onClick:function(){return a(t.id)},children:Object(r.jsx)("span",{className:"svg-icon svg-icon-md svg-icon-primary",children:Object(r.jsx)(ne.a,{src:Object(Z.j)("/media/svg/icons/Communication/Write.svg")})})})}),Object(r.jsx)(r.Fragment,{children:" "}),Object(r.jsx)(Ae.a,{overlay:Object(r.jsx)(Qe.a,{id:"customers-delete-tooltip",children:"Delete remark"}),children:Object(r.jsx)("a",{className:"btn btn-icon btn-light btn-hover-danger btn-sm",onClick:function(){return i(t.id)},children:Object(r.jsx)("span",{className:"svg-icon svg-icon-md svg-icon-danger",children:Object(r.jsx)(ne.a,{src:Object(Z.j)("/media/svg/icons/General/Trash.svg")})})})})]})};function Kt(){var e=Lt(),t=Object(c.useMemo)((function(){return{ids:e.ids,setIds:e.setIds,queryParams:e.queryParams,setQueryParams:e.setQueryParams,productId:e.productId,openEditRemarkDialog:e.openEditRemarkDialog,openDeleteRemarkDialog:e.openDeleteRemarkDialog}}),[e]),n=Object(i.e)((function(e){return{currentState:e.remarks}}),i.c).currentState,a=n.totalCount,o=n.entities,l=n.listLoading,d=Object(i.d)();Object(c.useEffect)((function(){t.setIds([]),d(Qt(t.queryParams,t.productId))}),[t.queryParams,d,t.productId]);var u=[{dataField:"id",text:"ID",sort:!0,sortCaret:Z.i},{dataField:"text",text:"Text",sort:!0,sortCaret:Z.i},{dataField:"dueDate",text:"Due date",sort:!1},{dataField:"action",text:"Actions",formatter:Jt,formatExtraData:{openEditRemarkDialog:t.openEditRemarkDialog,openDeleteRemarkDialog:t.openDeleteRemarkDialog},classes:"text-right pr-0",headerClasses:"text-right pr-3",style:{minWidth:"100px"}}],j={custom:!0,totalSize:a,sizePerPageList:It,sizePerPage:t.queryParams.pageSize,page:t.queryParams.pageNumber};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(K.PaginationProvider,{pagination:X()(j),children:function(e){var n=e.paginationProps,c=e.paginationTableProps;return Object(r.jsx)(s.k,{isLoading:l,paginationProps:n,children:Object(r.jsxs)(J.a,Object(W.a)(Object(W.a)({wrapperClasses:"table-responsive",classes:"table table-head-custom table-vertical-center overflow-hidden",bordered:!1,bootstrap4:!0,remote:!0,keyField:"id",data:null===o?[]:o,columns:u,defaultSorted:wt,onTableChange:Object(Z.d)(t.setQueryParams),selectRow:Object(Z.g)({entities:o,ids:t.ids,setIds:t.setIds})},c),{},{children:[Object(r.jsx)(Z.b,{entities:o}),Object(r.jsx)(Z.a,{entities:o})]}))})}})})}function Xt(){var e=Object(i.e)((function(e){return{isLoading:e.remarks.listLoading}}),i.c).isLoading;return Object(c.useEffect)((function(){}),[e]),Object(r.jsx)(s.h,{isLoading:e,text:"Loading ..."})}function Zt(){var e=Lt(),t=Object(c.useMemo)((function(){return{ids:e.ids,setIds:e.setIds,productId:e.productId,queryParams:e.queryParams,showDeleteRemarksDialog:e.showDeleteRemarksDialog,closeDeleteRemarksDialog:e.closeDeleteRemarksDialog}}),[e]),n=Object(i.d)(),a=Object(i.e)((function(e){return{isLoading:e.remarks.actionsLoading}}),i.c).isLoading;Object(c.useEffect)((function(){}),[a,n]),Object(c.useEffect)((function(){t.ids&&0!==t.ids.length||t.closeDeleteRemarksDialog()}),[t.ids]);return Object(r.jsxs)(l.a,{show:t.showDeleteRemarksDialog,onHide:t.closeDeleteRemarksDialog,"aria-labelledby":"example-modal-sizes-title-lg",children:[a&&Object(r.jsx)(s.i,{variant:"query"}),Object(r.jsx)(l.a.Header,{closeButton:!0,children:Object(r.jsx)(l.a.Title,{id:"example-modal-sizes-title-lg",children:"Remarks Delete"})}),Object(r.jsxs)(l.a.Body,{children:[!a&&Object(r.jsx)("span",{children:"Are you sure to permanently delete selected remarks?"}),a&&Object(r.jsx)("span",{children:"Remarks are deleting..."})]}),Object(r.jsx)(l.a.Footer,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{type:"button",onClick:t.closeDeleteRemarksDialog,className:"btn btn-light btn-elevate",children:"Cancel"}),Object(r.jsx)(r.Fragment,{children:" "}),Object(r.jsx)("button",{type:"button",onClick:function(){n($t(t.ids)).then((function(){n(Qt(t.queryParams,t.productId)).then((function(){t.setIds([]),t.closeDeleteRemarksDialog()}))}))},className:"btn btn-primary btn-elevate",children:"Delete"})]})})]})}function _t(){var e=Lt(),t=Object(c.useMemo)((function(){return{id:e.selectedId,setIds:e.setIds,productId:e.productId,queryParams:e.queryParams,showDeleteRemarkDialog:e.showDeleteRemarkDialog,closeDeleteRemarkDialog:e.closeDeleteRemarkDialog}}),[e]),n=Object(i.d)(),a=Object(i.e)((function(e){return{isLoading:e.remarks.actionsLoading}}),i.c).isLoading;Object(c.useEffect)((function(){t.id||t.closeDeleteRemarkDialog()}),[t.id]),Object(c.useEffect)((function(){}),[a,n]);return Object(r.jsxs)(l.a,{show:t.showDeleteRemarkDialog,onHide:t.closeDeleteRemarkDialog,"aria-labelledby":"example-modal-sizes-title-lg",children:[a&&Object(r.jsx)(s.i,{variant:"query"}),Object(r.jsx)(l.a.Header,{closeButton:!0,children:Object(r.jsx)(l.a.Title,{id:"example-modal-sizes-title-lg",children:"Remark Delete"})}),Object(r.jsxs)(l.a.Body,{children:[!a&&Object(r.jsx)("span",{children:"Are you sure to permanently delete this remark?"}),a&&Object(r.jsx)("span",{children:"Remark is deleting..."})]}),Object(r.jsx)(l.a.Footer,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{type:"button",onClick:t.closeDeleteRemarkDialog,className:"btn btn-light btn-elevate",children:"Cancel"}),Object(r.jsx)(r.Fragment,{children:" "}),Object(r.jsx)("button",{type:"button",onClick:function(){n(Gt(t.id)).then((function(){n(Qt(t.queryParams,t.productId)),t.setIds([]),t.closeDeleteRemarkDialog()}))},className:"btn btn-primary btn-elevate",children:"Delete"})]})})]})}var en=function(e,t){var n=[];return t.forEach((function(t){var c=e.find((function(e){return e.id===t}));c&&n.push(c)})),n};function tn(){var e=Lt(),t=Object(c.useMemo)((function(){return{ids:e.ids,queryParams:e.queryParams,showFetchRemarksDialog:e.showFetchRemarksDialog,closeFetchRemarksDialog:e.closeFetchRemarksDialog}}),[e]),n=Object(i.e)((function(e){return{remarks:en(e.remarks.entities,t.ids)}}),i.c).remarks;return Object(c.useEffect)((function(){t.ids&&0!==t.ids.length||t.closeFetchRemarksDialog()}),[t.ids]),Object(r.jsxs)(l.a,{show:t.showFetchRemarksDialog,onHide:t.closeFetchRemarksDialog,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(r.jsx)(l.a.Header,{closeButton:!0,children:Object(r.jsx)(l.a.Title,{id:"example-modal-sizes-title-lg",children:"Fetch selected elements"})}),Object(r.jsx)(l.a.Body,{children:Object(r.jsx)("div",{className:"list-timeline list-timeline-skin-light padding-30",children:Object(r.jsx)("div",{className:"list-timeline-items",children:n.map((function(e){return Object(r.jsx)("div",{className:"list-timeline-item mb-3",children:Object(r.jsxs)("span",{className:"list-timeline-text",children:[Object(r.jsxs)("span",{className:"label label-lg label-light-success label-inline",style:{width:"60px"},children:["ID: ",e.id]})," ",Object(r.jsxs)("span",{className:"ml-5",children:[e.text," "]})]})},e.id)}))})})}),Object(r.jsx)(l.a.Footer,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{type:"button",onClick:t.closeFetchRemarksDialog,className:"btn btn-light btn-elevate",children:"Cancel"}),Object(r.jsx)(r.Fragment,{children:" "}),Object(r.jsx)("button",{type:"button",onClick:t.closeFetchRemarksDialog,className:"btn btn-primary btn-elevate",children:"Ok"})]})})]})}function nn(){var e=Lt(),t=Object(c.useMemo)((function(){return{ids:e.ids,openDeleteRemarksDialog:e.openDeleteRemarksDialog,openFetchRemarksDialog:e.openFetchRemarksDialog}}),[e]);return Object(r.jsx)("div",{className:"form",children:Object(r.jsx)("div",{className:"row align-items-center form-group-actions margin-top-20",children:Object(r.jsx)("div",{className:"col-xl-12",children:Object(r.jsxs)("div",{className:"form-group form-group-inline",children:[Object(r.jsx)("div",{className:"form-label form-label-no-wrap",children:Object(r.jsx)("label",{className:"font-bold font-danger mt-5",children:Object(r.jsxs)("span",{children:["Selected records count: ",t.ids.length]})})}),Object(r.jsxs)("div",{className:"form-group-inline",children:[Object(r.jsxs)("button",{type:"button",className:"btn btn-danger font-weight-bolder font-size-sm",onClick:t.openDeleteRemarksDialog,children:[Object(r.jsx)("i",{className:"fa fa-trash"})," Delete All"]}),"\xa0",Object(r.jsxs)("button",{type:"button",className:"btn btn-light-primary font-weight-bolder font-size-sm",onClick:t.openFetchRemarksDialog,children:[Object(r.jsx)("i",{className:"fa fa-stream"})," Fetch Selected"]})]})]})})})})}function cn(e){var t=e.id,n=Object(c.useState)(""),a=Object(y.a)(n,2),o=a[0],d=a[1],u=Object(i.e)((function(e){return{remarkForEdit:e.remarks.remarkForEdit,actionsLoading:e.remarks.actionsLoading}}),i.c),j=u.remarkForEdit,m=u.actionsLoading;return Object(c.useEffect)((function(){var e=t?"":"New Remark";j&&t&&(e="Edit remark"),d(e)}),[j,m]),Object(r.jsxs)(r.Fragment,{children:[m&&Object(r.jsx)(s.i,{variant:"query"}),Object(r.jsx)(l.a.Header,{closeButton:!0,children:Object(r.jsx)(l.a.Title,{id:"example-modal-sizes-title-lg",children:o})})]})}var an=N.d().shape({text:N.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Text is required"),type:N.c().required("Type is required"),dueDate:N.b().nullable(!1).required("Due date is required")});function sn(e){var t=e.saveRemark,n=e.remark,c=e.actionsLoading,a=e.onHide;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(D.c,{enableReinitialize:!0,initialValues:n,validationSchema:an,onSubmit:function(e){return t(e)},children:function(e){var t=e.handleSubmit;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(l.a.Body,{className:"overlay overlay-block cursor-default",children:[c&&Object(r.jsx)("div",{className:"overlay-layer bg-transparent",children:Object(r.jsx)("div",{className:"spinner spinner-lg spinner-success"})}),Object(r.jsxs)(D.b,{className:"form form-label-right",children:[Object(r.jsx)("div",{className:"form-group row",children:Object(r.jsx)("div",{className:"col-lg-12",children:Object(r.jsx)(D.a,{name:"text",component:s.g,placeholder:"Text",label:"Text"})})}),Object(r.jsx)("div",{className:"form-group row",children:Object(r.jsx)("div",{className:"col-lg-12",children:Object(r.jsx)(s.f,{name:"dueDate",label:"Due date"})})}),Object(r.jsx)("div",{className:"form-group row",children:Object(r.jsx)("div",{className:"col-lg-12",children:Object(r.jsxs)(s.l,{name:"type",label:"Type",children:[Object(r.jsx)("option",{value:"0",children:"Info"}),Object(r.jsx)("option",{value:"1",children:"Note"}),Object(r.jsx)("option",{value:"2",children:"Reminder"})]})})})]})]}),Object(r.jsxs)(l.a.Footer,{children:[Object(r.jsx)("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate",children:"Cancel"}),Object(r.jsx)(r.Fragment,{children:" "}),Object(r.jsx)("button",{type:"submit",onClick:function(){return t()},className:"btn btn-primary btn-elevate",children:"Save"})]})]})}})})}function rn(){var e=Lt(),t=Object(c.useMemo)((function(){return{id:e.selectedId,setIds:e.setIds,productId:e.productId,queryParams:e.queryParams,showEditRemarkDialog:e.showEditRemarkDialog,closeEditRemarkDialog:e.closeEditRemarkDialog,initRemark:e.initRemark}}),[e]),n=Object(i.d)(),a=Object(i.e)((function(e){return{actionsLoading:e.remarks.actionsLoading,remarkForEdit:e.remarks.remarkForEdit}}),i.c),s=a.actionsLoading,o=a.remarkForEdit;Object(c.useEffect)((function(){n(Vt(t.id))}),[t.id,n]);return Object(r.jsxs)(l.a,{show:t.showEditRemarkDialog,onHide:t.closeEditRemarkDialog,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(r.jsx)(cn,{id:t.id}),Object(r.jsx)(sn,{saveRemark:function(e){e.dueDate=function(e){if("string"===typeof e)return e;var t=e.getFullYear(),n=(1+e.getMonth()).toString();n=n.length>1?n:"0"+n;var c=e.getDate().toString();return n+"/"+(c=c.length>1?c:"0"+c)+"/"+t}(e.dueDate),t.id?n(Yt(e)).then((function(){n(Qt(t.queryParams,t.productId)).then((function(){t.setIds([]),t.closeEditRemarkDialog()}))})):n(Wt(e)).then((function(){n(Qt(t.queryParams,t.productId)).then((function(){t.setIds([]),t.closeEditRemarkDialog()}))}))},actionsLoading:s,remark:o||t.initRemark,onHide:t.closeEditRemarkDialog})]})}function on(){var e=Lt(),t=Object(c.useMemo)((function(){return{ids:e.ids}}),[e]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Xt,{}),Object(r.jsx)(rn,{}),Object(r.jsx)(_t,{}),Object(r.jsx)(Zt,{}),Object(r.jsx)(tn,{}),Object(r.jsxs)("div",{className:"form margin-b-30",children:[Object(r.jsx)(Mt,{}),t.ids.length>0&&Object(r.jsx)(nn,{})]}),Object(r.jsx)(Kt,{})]})}var ln={id:void 0,model:"",manufacture:"Pontiac",modelYear:2020,mileage:0,description:"",color:"Red",price:1e4,condition:1,status:0,VINCode:""};function dn(e){var t=e.history,n=e.match.params.id,a=Object(Et.k)(),o=Object(c.useState)("basic"),l=Object(y.a)(o,2),d=l[0],u=l[1],j=Object(c.useState)(""),m=Object(y.a)(j,2),b=m[0],h=m[1],p=Object(i.d)(),f=Object(i.e)((function(e){return{actionsLoading:e.products.actionsLoading,productForEdit:e.products.productForEdit}}),i.c),O=f.actionsLoading,x=f.productForEdit;Object(c.useEffect)((function(){p(me(n))}),[n,p]),Object(c.useEffect)((function(){var e=n?"":"New Product";x&&n&&(e="Edit product '".concat(x.manufacture," ").concat(x.model," - ").concat(x.modelYear,"'")),h(e),a.setTitle(e)}),[x,n]);var g=Object(c.useRef)(),v=function(){t.push("/e-commerce/products")};return Object(r.jsxs)(s.b,{children:[O&&Object(r.jsx)(s.i,{}),Object(r.jsx)(s.d,{title:b,children:Object(r.jsxs)(s.e,{children:[Object(r.jsxs)("button",{type:"button",onClick:v,className:"btn btn-light",children:[Object(r.jsx)("i",{className:"fa fa-arrow-left"}),"Back"]}),"  ",Object(r.jsxs)("button",{className:"btn btn-light ml-2",children:[Object(r.jsx)("i",{className:"fa fa-redo"}),"Reset"]}),"  ",Object(r.jsx)("button",{type:"submit",className:"btn btn-primary ml-2",onClick:function(){g&&g.current&&g.current.click()},children:"Save"})]})}),Object(r.jsxs)(s.c,{children:[Object(r.jsxs)("ul",{className:"nav nav-tabs nav-tabs-line ",role:"tablist",children:[Object(r.jsx)("li",{className:"nav-item",onClick:function(){return u("basic")},children:Object(r.jsx)("a",{className:"nav-link ".concat("basic"===d&&"active"),"data-toggle":"tab",role:"tab","aria-selected":("basic"===d).toString(),children:"Basic info"})}),n&&Object(r.jsxs)(r.Fragment,{children:[" ",Object(r.jsx)("li",{className:"nav-item",onClick:function(){return u("remarks")},children:Object(r.jsx)("a",{className:"nav-link ".concat("remarks"===d&&"active"),"data-toggle":"tab",role:"button","aria-selected":("remarks"===d).toString(),children:"Product remarks"})}),Object(r.jsx)("li",{className:"nav-item",onClick:function(){return u("specs")},children:Object(r.jsx)("a",{className:"nav-link ".concat("specs"===d&&"active"),"data-toggle":"tab",role:"tab","aria-selected":("specs"===d).toString(),children:"Product specifications"})})]})]}),Object(r.jsxs)("div",{className:"mt-5",children:["basic"===d&&Object(r.jsx)(Ke,{actionsLoading:O,product:x||ln,btnRef:g,saveProduct:function(e){n?p(pe(e)).then((function(){return v()})):p(he(e)).then((function(){return v()}))}}),"remarks"===d&&n&&Object(r.jsx)(Rt,{currentProductId:n,children:Object(r.jsx)(on,{})}),"specs"===d&&n&&Object(r.jsx)(ct,{currentProductId:n,children:Object(r.jsx)(St,{})})]})]})]})}function un(){return Object(r.jsx)(c.Suspense,{fallback:Object(r.jsx)(Et.c,{}),children:Object(r.jsxs)(a.d,{children:[Object(r.jsx)(a.a,{exact:!0,from:"/e-commerce",to:"/e-commerce/customers"}),Object(r.jsx)(Et.a,{path:"/e-commerce/customers",component:re}),Object(r.jsx)(Et.a,{path:"/e-commerce/products/new",component:dn}),Object(r.jsx)(Et.a,{path:"/e-commerce/products/:id/edit",component:dn}),Object(r.jsx)(Et.a,{path:"/e-commerce/products",component:$e})]})})}}}]);
//# sourceMappingURL=4.4f0f213f.chunk.js.map